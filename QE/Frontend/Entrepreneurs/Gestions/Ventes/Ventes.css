/* Variables CSS thème sombre */
    :root {
      --primary-blue: #60a5fa;
      --primary-green: #34d399;
      --primary-red: #f87171;
      --primary-orange: #fb923c;
      --bg-dark: #0f172a;
      --bg-card: #1e293b;
      --text-light: #f1f5f9;
      --text-gray: #94a3b8;
      --border-dark: #334155;
      --shadow-dark: 0 4px 6px -1px rgba(0, 0, 0, 0.4), 0 2px 4px -1px rgba(0, 0, 0, 0.2);
      --shadow-dark-medium: 0 10px 15px -3px rgba(0, 0, 0, 0.4), 0 4px 6px -2px rgba(0, 0, 0, 0.2);
      --shadow-dark-strong: 0 20px 25px -5px rgba(0, 0, 0, 0.4), 0 10px 10px -5px rgba(0, 0, 0, 0.2);
      --shadow-dark-soft: 0 1px 3px rgba(0, 0, 0, 0.4), 0 1px 2px rgba(0, 0, 0, 0.2);
    }

    /* Typography - Page uses Inter, sidebar uses ui-sans-serif */
    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif !important;
      background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%) !important;
      padding-bottom: 200px !important;
    }

    /* Retirer le padding sur mobile */
    @media (max-width: 600px) {
      body {
        padding-bottom: 0 !important;
      }
    }

    /* Style scrollbar sans boutons */
    .overflow-y-auto {
      scrollbar-width: thin;
      scrollbar-color: rgba(148, 163, 184, 0.3) transparent;
      scrollbar-gutter: stable;
    }

    .overflow-y-auto::-webkit-scrollbar {
      width: 14px;
    }

    .overflow-y-auto::-webkit-scrollbar-track {
      background: transparent;
    }

    .overflow-y-auto::-webkit-scrollbar-thumb {
      background: rgba(148, 163, 184, 0.3);
      border-radius: 10px;
      border: 3px solid transparent;
      background-clip: content-box;
    }

    .overflow-y-auto::-webkit-scrollbar-thumb:hover {
      background: rgba(148, 163, 184, 0.5);
      background-clip: content-box;
    }

    /* Masquer complètement les boutons du scrollbar */
    .overflow-y-auto::-webkit-scrollbar-button {
      display: none;
    }


    /* Status cards styles - Dark Theme */
    .status-card {
      background: #1e293b;
      backdrop-filter: blur(10px);
      border-radius: 20px;
      box-shadow: var(--shadow-dark-medium);
      border: 1px solid var(--border-dark);
      position: relative;
      overflow: hidden;
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .status-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: linear-gradient(135deg, var(--card-color), var(--card-color)) !important;
      border-radius: 20px 20px 0 0;
    }

    .status-card:hover {
      box-shadow: var(--shadow-dark-strong);
      border-color: var(--border-dark);
    }

    /* All button styles removed - now loaded from base.css */

    /* Bouton info discret - identique au button3 */
    .button-info-discret {
      background-color: #172033 !important;
      color: var(--text-light) !important;
      border: 2px solid var(--border-dark) !important;
      border-radius: 50% !important;
      font-weight: 700 !important;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2) !important;
      transition: transform 0.2s ease, box-shadow 0.2s ease !important;
      position: relative !important;
      overflow: hidden !important;
      width: 24px !important;
      height: 24px !important;
      padding: 0 !important;
      font-size: 12px !important;
      line-height: 24px !important;
      display: inline-flex !important;
      align-items: center !important;
      justify-content: center !important;
    }

    /* Mobile: padding 0 absolument important avec max spécificité */
    @media (max-width: 600px) {
      button.button-info-discret {
        padding: 0 !important;
        margin: 0 !important;
      }
    }

    .button-info-discret::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
      transition: left 0.5s ease;
      z-index: 1;
    }

    .button-info-discret:hover {
      transform: scale(1.05) !important;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3) !important;
    }

    .button-info-discret:hover::before {
      left: 100%;
    }


    /* Styles pour les champs du modal prospect */
    #prospectForm input,
    #prospectForm textarea {
      transition: border-color 0.2s ease;
    }
    
    /* Contour bleu au hover, active et focus */
    #prospectForm input:hover,
    #prospectForm textarea:hover,
    #prospectForm input:active,
    #prospectForm textarea:active,
    #prospectForm input:focus,
    #prospectForm textarea:focus {
      outline: none;
      border-color: var(--primary-blue) !important;
    }

    /* Specific Account Menu Button Styling */
    #mobile-account-menu-button {
      background-color: #414141 !important;
      border-radius: 28px !important;
      font-weight: 700 !important;
      color: white !important;
    }



    /* CSS anti-flash désactivé - menu statique maintenant */
    /* li[data-role*="admin"], 
    li[data-role*="direction"], 
    li[data-role*="coach"] {
      display: none;
    } */

    /* Cacher éléments admin pour cette page entrepreneur */
    li[data-role*="admin"]:not([data-role*="entrepreneur"]),
    li[data-role="coach"] {
      display: none !important;
    }
    

    
    /* Headers sticky pour les tables */
    .max-h-\\[350px\\] {
      position: relative;
    }
    
    .max-h-\\[350px\\] thead {
      position: sticky !important;
      top: 0 !important;
      z-index: 10 !important;
      background-color: #f9f9f9 !important;
    }
    
    .max-h-\\[350px\\] thead th {
      position: sticky !important;
      top: 0 !important;
      background-color: #f9f9f9 !important;
      z-index: 11 !important;
    }
    
    /* Ton CSS complet repris */
    .dropdown {
      position: relative;
      width: 100%;
    }
    .dropdown-toggle {
      padding: 8px;
      border: 1px solid #e5e7eb;
      background: white;
      min-height: 46px;
      display: flex;
      flex-wrap: nowrap;
      overflow-x: hidden;
      gap: 5px;
      align-items: center;
      cursor: pointer;
      font-size: 14px;
      border-radius: 0px;
    }
    .tag {
      white-space: nowrap;
      background: #f0f0f0;
      padding: 4px 10px;
      border-radius: 20px;
      font-size: 13px;
      flex-shrink: 0;
    }
    .dropdown-menu {
      position: absolute;
      top: 100%;
      left: 0;
      right: 0;
      border: 1px solid #ccc;
      background: #fff;
      max-height: 350px;
      overflow-y: auto;
      width: 400px;
      z-index: 10;
    }
    .dropdown-option {
      padding: 10px;
      cursor: pointer;
      display: flex;
      justify-content: space-between;
      font-size: 14px;
    }
    .dropdown-option:hover {
      background: #f0f0f0;
    }
    .check {
      color: black;
      font-weight: bold;
    }

    .menu-item-button {
      background-color: white !important;
      color: #374151;
      font-size: 0.875rem;
      padding: 0.5rem 1rem;
      text-align: left;
      width: 100%;
      border: none;
      cursor: pointer;
      transition: background-color 0.2s ease;
    }
    .menu-item-button:hover {
      background-color: #f3f4f6;
    }
    
    /* Boutons normaux pour les modals */
    .modal-btn {
      border-radius: 8px;
      font-weight: 600;
      padding: 10px 20px;
      border: 1px solid;
      cursor: pointer;
      transition: all 0.2s ease;
      min-width: 80px;
    }
    .logo {
      height: 4rem;
    }


    /* Supprimé - géré dans les nouveaux styles */


    /* Colonne adresse un peu plus large */
    table th.adresse, table td.adresse {
      width: 20%;
      min-width: 180px;
      max-width: 180px;
      white-space: normal;
      word-wrap: break-word;
    }

    /* Colonne prix plus petite */
    table th.prix, table td.prix {
      width: 10%;
      min-width: 80px;
      max-width: 80px;
      text-align: left;
    }

    /* Colonne document plus large */
    table th:nth-child(6), table td:nth-child(6) {
      text-align: center;
      width: 15%;
      min-width: 130px;
      max-width: 130px;
    }

    /* Colonne action standard */
    table th.action-col, table td.action-col {
      text-align: center;
      width: 12%;
      min-width: 100px;
      max-width: 100px;
    }

    /* Modal overlay */
    #confirmationModal {
      display: none;
      position: fixed;
      z-index: 50;
      left: 0; top: 0;
      width: 100%; height: 100%;
      background: rgba(0, 0, 0, 0.4);
      backdrop-filter: blur(2px);
      justify-content: center;
      align-items: center;
    }

    #confirmationModal .modal-content {
      background: white;
      padding: 2rem;
      border-radius: 12px;
      max-width: 400px;
      box-shadow: 0 0 15px rgba(0,0,0,0.3);
      text-align: center;
      font-family: 'Arial', sans-serif;
    }

    /* Garder le fond sombre pour les popups principaux */
    .fixed.inset-0.z-50 {
      background: rgba(0, 0, 0, 0.7) !important;
    }

    #confirmationModal .modal-buttons {
      margin-top: 1.5rem;
      display: flex;
      justify-content: center;
      gap: 1rem;
    }

    .modal-btn-cancel {
      background-color: white;
      color: #414141;
      border-color: #d1d5db;
    }
    .modal-btn-cancel:hover {
      background-color: #f9fafb;
      border-color: #9ca3af;
    }
    .modal-btn-confirm {
      background-color: #414141;
      color: white;
      border-color: #414141;
    }
    .modal-btn-confirm:hover {
      background-color: #333;
      border-color: #333;
    }

    /* Supprimé - géré dans les nouveaux styles uniformes */

    /* Search input container for fixed height & max lines */
    #searchCompleted {
      max-height: 6.5rem; /* approx 6 lines height */
      overflow-y: auto;
    }

    /* Table container scroll */
    #tableContainerCompleted {
      max-height: 350px;
      min-height: 350px;
      overflow-y: auto;
    }


    /* Cacher éléments direction pour non-direction users */
    html:not(.direction-user) li[data-role="direction"] {
      display: none !important;
    }


    /* ================================================================
       HEADER STYLES - Extracted from base.css
       ================================================================ */
    .mobile-header {
      background: var(--bg-card);
      border-bottom: 1px solid var(--border-dark);
    }


    /* Cacher éléments admin pour cette page entrepreneur */
    li[data-role*="admin"]:not([data-role*="entrepreneur"]),
    li[data-role="coach"] {
      display: none;
    }

    /* Override padding pour les inputs de recherche */
    #searchPotentiel,
    #searchAttente,
    #searchAccepte,
    #searchProduit,
    #searchSignee2,
    #searchTravaux,
    #searchCompleted,
    #searchClientsPerdus {
      padding: 12px 16px 12px 40px !important; /* Garder le padding left pour l'icône */
    }

    /* Hide sidebar, header and footer on mobile only */
    @media (max-width: 600px) {
      #sidebar {
        display: none !important;
      }

      .dark-header {
        display: none !important;
      }

      footer {
        display: none !important;
      }

      /* Show mobile versions, hide desktop versions */
      .desktop-title {
        display: none;
      }

      .mobile-title {
        display: inline;
        font-size: 2rem;
      }

      .desktop-subtitle {
        display: none;
      }

      .mobile-subtitle {
        display: inline;
        font-size: 1rem;
      }

      .desktop-btn-text {
        display: none;
      }

      .mobile-btn-text {
        display: inline;
      }

      /* Cacher la date sur mobile */
      .date-display-container {
        display: none !important;
      }

      /* La carte garde son padding comme sur PC pour le contenu */
      .status-card {
        padding: 1.5rem !important;
        width: 100% !important;
        margin: 0 !important;
        box-sizing: border-box !important;
      }

      /* Supprimer tous les margins/paddings négatifs des containers avec scroll */
      .status-card .overflow-y-auto,
      .status-card .space-y-4,
      #clientPotentielContainer,
      #clientEnAttenteContainer,
      #clientAccepterContainer,
      #clientProduitContainer {
        margin-right: 0 !important;
        margin-left: 0 !important;
        padding-right: 0 !important;
        padding-left: 0 !important;
      }

      /* Mobile: prevent horizontal scroll on body */
      body {
        overflow-x: hidden;
      }

      /* Mobile swipe container for status cards */
      .status-cards-container {
        display: flex;
        overflow-x: auto;
        scroll-snap-type: x mandatory;
        -webkit-overflow-scrolling: touch;
        gap: 0;
        width: 100vw;
        margin-left: -2rem;
        margin-right: -2rem;
        padding: 0;
        scrollbar-width: none; /* Firefox */
        -ms-overflow-style: none; /* IE and Edge */
      }

      .status-cards-container::-webkit-scrollbar {
        display: none; /* Chrome, Safari and Opera */
      }

      .status-card-wrapper {
        flex: 0 0 100vw; /* Full viewport width */
        scroll-snap-align: center; /* Centrer la carte lors du swipe */
        padding: 0 2rem; /* Inner padding for content - 2rem gauche et droite */
        box-sizing: border-box;
      }

      /* Mobile search fields - no swipe, synchronized with status cards */
      .search-fields-container {
        margin-bottom: 1rem;
        width: 100vw;
        margin-left: -1.5rem;
        margin-right: -1.5rem;
        display: block !important; /* Override flex on mobile */
        gap: 0 !important; /* Remove space-x-6 gap */
      }

      .search-field-wrapper {
        display: none; /* Hide all search fields by default */
        padding: 0 1.5rem;
        box-sizing: border-box;
        margin: 0 !important; /* Remove any left margins */
        margin-left: 0 !important;
      }

      .search-field-wrapper.active {
        display: block; /* Show only the active search field */
      }

      .search-field-wrapper .relative {
        width: 100% !important;
      }

      .search-field-wrapper input {
        width: 100% !important;
        box-sizing: border-box !important;
      }

    }

    /* Desktop: hide mobile versions, show desktop versions */
    @media (min-width: 601px) {
      /* Reset body overflow */
      body {
        overflow-x: visible !important;
      }

      .mobile-title {
        display: none;
      }

      .desktop-title {
        display: inline;
      }

      .mobile-subtitle {
        display: none;
      }

      .desktop-subtitle {
        display: inline;
      }

      .mobile-btn-text {
        display: none;
      }

      .desktop-btn-text {
        display: inline;
      }

      /* Desktop: normal layout for status cards */
      .status-cards-container {
        display: flex !important;
        overflow: visible !important;
        width: auto !important;
        margin: 0 !important;
        padding: 0 !important;
        gap: 1.5rem !important;
      }

      .status-card-wrapper {
        flex: 1 !important;
        padding: 0 !important;
        box-sizing: border-box !important;
      }

      /* Show search fields on desktop with proper spacing */
      .search-fields-container {
        display: flex !important;
        overflow: visible !important;
        width: auto !important;
        margin: 0 0 1rem 0 !important;
        padding: 0 !important;
        gap: 1.5rem !important;
      }

      .search-field-wrapper {
        flex: 1 !important;
        padding: 0 !important;
        box-sizing: border-box !important;
      }

    }

/* Scroll discret pour Webkit (Chrome, Safari) */
          #clientsPerdusContent::-webkit-scrollbar {
            width: 6px;
          }
          #clientsPerdusContent::-webkit-scrollbar-track {
            background: transparent;
          }
          #clientsPerdusContent::-webkit-scrollbar-thumb {
            background: rgba(148, 163, 184, 0.3);
            border-radius: 3px;
          }
          #clientsPerdusContent::-webkit-scrollbar-thumb:hover {
            background: rgba(148, 163, 184, 0.5);
          }

/* Conteneur principal des suggestions Google */
  .pac-container {
    background: #1e293b !important;
    border: 1px solid rgb(71, 85, 105) !important;
    border-radius: 12px !important;
    box-shadow: var(--shadow-dark-medium) !important;
    margin-top: 4px !important;
    z-index: 9999 !important;
  }

  /* Items individuels des suggestions */
  .pac-item {
    background: #1e293b !important;
    color: var(--text-light) !important;
    border-top: 1px solid rgb(71, 85, 105) !important;
    padding: 12px 16px !important;
    font-size: 14px !important;
    cursor: pointer !important;
    transition: background-color 0.2s ease !important;
  }

  /* Premier item sans bordure du haut */
  .pac-item:first-child {
    border-top: none !important;
    border-top-left-radius: 12px !important;
    border-top-right-radius: 12px !important;
  }

  /* Dernier item avec coins arrondis */
  .pac-item:last-child {
    border-bottom-left-radius: 12px !important;
    border-bottom-right-radius: 12px !important;
  }

  /* Hover sur les suggestions */
  .pac-item:hover,
  .pac-item-selected {
    background: var(--primary-blue) !important;
    color: white !important;
  }

  /* Masquer l'icône de localisation */
  .pac-icon {
    display: none !important;
  }

  /* Texte de l'adresse principale */
  .pac-item-query {
    color: var(--text-light) !important;
    font-weight: 600 !important;
  }

  /* Texte secondaire (ville, province) */
  .pac-matched {
    color: var(--text-gray) !important;
    font-weight: 400 !important;
  }

  /* Séparateur entre adresse principale et secondaire */
  .pac-item-query .pac-matched {
    color: var(--primary-blue) !important;
    font-weight: 600 !important;
  }

  /* Hover sur les éléments de texte */
  .pac-item:hover .pac-item-query,
  .pac-item-selected .pac-item-query {
    color: white !important;
  }

  .pac-item:hover .pac-matched,
  .pac-item-selected .pac-matched {
    color: white !important;
  }

  /* Logo Google en bas */
  .pac-logo::after {
    background: #1e293b !important;
    border-top: 1px solid rgb(71, 85, 105) !important;
  }

  /* Container au-dessus du modal */
  .pac-container.pac-logo {
    border-bottom-left-radius: 12px !important;
    border-bottom-right-radius: 12px !important;
  }

  /* Limiter à 3 suggestions maximum */
  .pac-item:nth-child(n+4) {
    display: none !important;
  }

  /* Bordures verticales pour les tableaux sections */
  .box .modern-table th,
  .box .modern-table td {
    border-right: 1px solid var(--border-dark) !important;
  }

  /* Retirer la bordure droite de la dernière colonne */
  .box .modern-table th:last-child,
  .box .modern-table td:last-child {
    border-right: none !important;
  }

  /* Bordures horizontales dans le header */
  .box .modern-table thead th {
    border-bottom: 1px solid var(--border-dark) !important;
  }

  /* Retirer le border-bottom des lignes du tbody (override de base.css) */
  .box .modern-table tbody tr {
    border-bottom: none !important;
  }

  /* Retirer le border-bottom des cellules du tbody */
  .box .modern-table tbody td {
    border-bottom: none !important;
  }

  /* Box avec overflow hidden par défaut (géré dynamiquement par JS pour les dropdowns) */
  .box {
    overflow: hidden !important;
  }

  .table-container {
    overflow: hidden !important;
  }

  /* Assurer que le tableau a une bordure globale et overflow hidden par défaut */
  .box .modern-table {
    border-collapse: collapse !important;
    overflow: hidden !important;
  }

  /* Les tr doivent toujours avoir overflow visible pour ne pas bloquer les dropdowns */
  .box .modern-table tr {
    overflow: visible !important;
  }

  /* Augmenter le z-index des lignes avec dropdown actif */
  .box .modern-table tr:has(.modern-dropdown.active) {
    position: relative !important;
    z-index: 1000 !important;
  }

  /* Augmenter le z-index de la cellule avec dropdown actif */
  .box .modern-table td:has(.modern-dropdown.active) {
    position: relative !important;
    z-index: 1001 !important;
  }

  /* Augmenter le z-index du dropdown lui-même */
  .box .modern-table .modern-dropdown.active {
    position: relative !important;
    z-index: 1002 !important;
  }

  /* Augmenter le z-index du menu dropdown et forcer position fixed */
  .box .modern-table .modern-dropdown-menu {
    z-index: 10000 !important;
    position: absolute !important;
  }

  /* Cacher les menus dropdown par défaut et les afficher avec .show */
  .modern-dropdown-menu {
    display: none;
  }

  .modern-dropdown-menu.show {
    display: block !important;
  }

  /* Statuts de paiement style Monday */
  .status-en-attente {
    background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
    color: white;
    padding: 8px 12px;
    border-radius: 6px;
    font-weight: 500;
    font-size: 13px;
    display: block;
    width: 100%;
    text-align: center;
    cursor: pointer;
    transition: all 0.2s ease;
    position: relative;
  }

  .status-en-attente:hover {
    box-shadow: 0 0 0 2px rgba(239, 68, 68, 0.3);
    transform: translateY(-1px);
  }

  .status-depot-recu {
    background: linear-gradient(135deg, #f97316 0%, #ea580c 100%);
    color: white;
    padding: 8px 12px;
    border-radius: 6px;
    font-weight: 500;
    font-size: 13px;
    display: block;
    width: 100%;
    text-align: center;
    cursor: pointer;
    transition: all 0.2s ease;
    position: relative;
  }

  .status-depot-recu:hover {
    box-shadow: 0 0 0 2px rgba(249, 115, 22, 0.3);
    transform: translateY(-1px);
  }

  .status-paiement-complet {
    background: linear-gradient(135deg, #10b981 0%, #059669 100%);
    color: white;
    padding: 8px 12px;
    border-radius: 6px;
    font-weight: 500;
    font-size: 13px;
    display: block;
    width: 100%;
    text-align: center;
    cursor: pointer;
    transition: all 0.2s ease;
    position: relative;
  }

  .status-paiement-complet:hover {
    box-shadow: 0 0 0 2px rgba(16, 185, 129, 0.3);
    transform: translateY(-1px);
  }

  /* Hover effect pour les lignes de table */
  .box .modern-table tbody tr:hover {
    background: rgba(96, 165, 250, 0.05) !important;
  }

  /* Fix pour que les dropdowns ne soient pas coupés par la box */
  .box {
    overflow: visible !important;
  }

  .box .modern-table {
    overflow: visible !important;
  }

  .box .modern-table tbody {
    overflow: visible !important;
  }

  /* Padding spécifique pour les dropdowns dans Ventes */
  .modern-dropdown {
    padding: 0 !important;
    border: none !important;
    background: transparent !important;
    height: auto !important;
  }

  /* Cacher la flèche du dropdown */
  .modern-dropdown .fa-chevron-down {
    display: none !important;
  }

  /* Style pour les options du dropdown avec badges colorés */
  .dropdown-option {
    padding: 8px 12px !important;
    cursor: pointer;
    transition: all 0.2s ease;
  }

  .dropdown-option:hover {
    background: rgba(59, 130, 246, 0.1) !important;
  }

  /* Les badges dans les options doivent avoir une largeur complète */
  .dropdown-option .status-en-attente,
  .dropdown-option .status-depot-recu,
  .dropdown-option .status-paiement-complet {
    display: block;
    width: 100%;
    text-align: center;
  }

  /* Pour les sections spécifiques avec couleurs différentes */
  #attente-tbody tr:hover {
    background: rgba(245, 158, 11, 0.1) !important;
  }

  #accepte-tbody tr:hover {
    background: rgba(16, 185, 129, 0.1) !important;
  }

  #produit-tbody tr:hover {
    background: rgba(139, 92, 246, 0.1) !important;
  }

  /* S'assurer que le dropdown est toujours visible même au hover */
  .box .modern-table tbody tr .modern-dropdown {
    position: relative;
    z-index: 100 !important;
  }

  .box .modern-table tbody tr .modern-dropdown-menu {
    z-index: 10001 !important;
  }

  /* Empêcher tout effet de transformation sur hover qui pourrait cacher le dropdown */
  .box .modern-table tbody tr:hover {
    transform: none !important;
    scale: none !important;
  }

/* Cacher par défaut les éléments mobile-only sur PC */
.show-mobile {
  display: none;
}

/* ================================================================
   MOBILE RESPONSIVE - VENTES PAGE
   Cartes simples - juste le nom, clic pour popup (identique PC)
   ================================================================ */
@media (max-width: 600px) {

  /* Page - identique au dashboard */
  .main-content {
    padding: 1rem !important;
  }

  /* Réduire le padding à 0.75rem pour tous les conteneurs de contenu sur mobile */
  .p-6,
  .p-8 {
    padding: 0.75rem !important;
  }

  /* Espacement header */
  .mb-10 {
    margin-bottom: 1.5rem !important;
  }

  .mt-5 {
    margin-top: 0.5rem !important;
  }

  /* Box */
  .box-header {
    flex-direction: column !important;
    align-items: stretch !important;
    gap: 0.75rem !important;
    padding: 1rem !important;
  }

  .box-header-title {
    font-size: 1.25rem !important;
  }

  .box-header .btn-primary {
    width: auto !important;
    align-self: flex-start !important;
  }

  .box-body {
    padding: 1rem !important;
  }

  /* Table container - pas de scroll */
  .table-container {
    overflow: hidden !important;
    width: 100% !important;
  }

  /* Table prend toute la largeur */
  .modern-table {
    display: block !important;
    width: 100% !important;
    min-width: 0 !important;
    table-layout: auto !important;
  }

  /* Cacher le header */
  .modern-table thead {
    display: none !important;
  }

  /* Tbody en block */
  .modern-table tbody {
    display: block !important;
    width: 100% !important;
  }

  /* ============================================================
     MOBILE: Box header - Total sur même ligne
     ============================================================ */
  .box-header {
    display: flex !important;
    flex-direction: row !important;
    flex-wrap: nowrap !important;
    justify-content: space-between !important;
    align-items: center !important;
    gap: 0.5rem !important;
    padding: 0.75rem 1rem !important;
  }

  .box-header > div:first-child {
    flex: 1 !important;
    min-width: 0 !important;
    display: flex !important;
    align-items: center !important;
    gap: 0.5rem !important;
  }

  .box-header-title {
    font-size: 1rem !important;
    white-space: nowrap !important;
  }

  .box-header-icon {
    width: 28px !important;
    height: 28px !important;
    min-width: 28px !important;
  }

  .box-header-icon i {
    font-size: 0.75rem !important;
  }

  /* Total compact sur mobile */
  #total-attente,
  #total-accepte,
  #total-produit {
    flex-shrink: 0 !important;
    padding: 0.35rem 0.6rem !important;
    margin-left: 0 !important;
    font-size: 0.8rem !important;
  }

  #total-attente span,
  #total-accepte span,
  #total-produit span {
    font-size: 0.8rem !important;
  }

  /* Cacher le label "Total:" sur mobile */
  #total-attente span:first-child,
  #total-accepte span:first-child,
  #total-produit span:first-child {
    display: none !important;
  }

  /* ============================================================
     MOBILE: Cartes clients SANS bordure
     ============================================================ */
  .box .modern-table tbody tr,
  .modern-table tbody tr {
    display: flex !important;
    align-items: center !important;
    background: transparent !important;
    border: none !important;
    border-bottom: 1px solid rgba(71, 85, 105, 0.2) !important;
    border-radius: 0 !important;
    padding: 0.75rem 0.5rem !important;
    margin: 0 !important;
    cursor: pointer !important;
    box-sizing: border-box !important;
    transition: all 0.2s ease !important;
  }

  /* Pas de bordure colorée par section */
  .box:nth-of-type(1) .modern-table tbody tr,
  .box:nth-of-type(2) .modern-table tbody tr,
  .box:nth-of-type(3) .modern-table tbody tr,
  .box:nth-of-type(4) .modern-table tbody tr {
    background: transparent !important;
    border: none !important;
    border-bottom: 1px solid rgba(71, 85, 105, 0.2) !important;
  }

  /* Dernier élément sans bordure */
  .box .modern-table tbody tr:last-child,
  .modern-table tbody tr:last-child {
    border-bottom: none !important;
  }

  .box .modern-table tbody tr:hover,
  .modern-table tbody tr:hover {
    transform: none !important;
    background: rgba(96, 165, 250, 0.05) !important;
  }

  /* Hover par section - juste un léger fond */
  .box:nth-of-type(1) .modern-table tbody tr:hover,
  .box:nth-of-type(2) .modern-table tbody tr:hover,
  .box:nth-of-type(3) .modern-table tbody tr:hover,
  .box:nth-of-type(4) .modern-table tbody tr:hover {
    background: rgba(96, 165, 250, 0.05) !important;
  }

  .box .modern-table tbody tr:active,
  .modern-table tbody tr:active {
    background: rgba(96, 165, 250, 0.1) !important;
  }

  /* MOBILE: Layout ultra simple - Nom à gauche, Prix à droite */

  /* Les lignes simples */
  .modern-table tbody tr {
    display: flex !important;
    flex-direction: row !important;
    align-items: center !important;
    justify-content: space-between !important;
    padding: 0.75rem 0.5rem !important;
    background: rgba(30, 41, 59, 0.6) !important;
    border: 1px solid rgba(71, 85, 105, 0.3) !important;
    border-radius: 10px !important;
    overflow: hidden !important;
    gap: 0.75rem !important;
    width: auto !important;
    box-sizing: border-box !important;
  }

  /* ============================================================
     MOBILE: CACHER CHAQUE COLONNE INDIVIDUELLEMENT
     ============================================================ */

  /* Checkbox - CACHER */
  td.checkbox-column,
  .modern-table td.checkbox-column,
  .box .modern-table td.checkbox-column {
    display: none !important;
    visibility: hidden !important;
  }

  /* REP - CACHER */
  td[data-label="REP"],
  .modern-table td[data-label="REP"],
  .box .modern-table td[data-label="REP"] {
    display: none !important;
    visibility: hidden !important;
  }

  /* Provenance - CACHER */
  td[data-label="Provenance"],
  .modern-table td[data-label="Provenance"],
  .box .modern-table td[data-label="Provenance"] {
    display: none !important;
    visibility: hidden !important;
  }

  /* Type travaux - CACHER */
  td[data-label="Type travaux"],
  .modern-table td[data-label="Type travaux"],
  .box .modern-table td[data-label="Type travaux"] {
    display: none !important;
    visibility: hidden !important;
  }

  /* Téléphone - CACHER (sauf pour prospects) */
  td[data-label="Téléphone"],
  .modern-table td[data-label="Téléphone"],
  .box .modern-table td[data-label="Téléphone"] {
    display: none !important;
    visibility: hidden !important;
  }

  /* Adresse - CACHER */
  td[data-label="Adresse"],
  .modern-table td[data-label="Adresse"],
  .box .modern-table td[data-label="Adresse"] {
    display: none !important;
    visibility: hidden !important;
  }

  /* Étiquette - CACHER */
  td[data-label="Étiquette"],
  .modern-table td[data-label="Étiquette"],
  .box .modern-table td[data-label="Étiquette"] {
    display: none !important;
    visibility: hidden !important;
  }

  /* Notes - CACHER */
  td[data-label="Notes"],
  .modern-table td[data-label="Notes"],
  .box .modern-table td[data-label="Notes"] {
    display: none !important;
    visibility: hidden !important;
  }

  /* Paiement - CACHER */
  td[data-label="Paiement"],
  .modern-table td[data-label="Paiement"],
  .box .modern-table td[data-label="Paiement"] {
    display: none !important;
    visibility: hidden !important;
  }

  /* ============================================================
     MOBILE: AFFICHER SEULEMENT NOM ET PRIX
     ============================================================ */

  /* NOM - AFFICHER à gauche */
  td[data-label="Nom"],
  .modern-table td[data-label="Nom"],
  .box .modern-table td[data-label="Nom"] {
    display: block !important;
    visibility: visible !important;
    flex: 1 !important;
    font-weight: 600 !important;
    font-size: 1rem !important;
    color: #f1f5f9 !important;
    padding: 0 !important;
    margin: 0 !important;
    white-space: nowrap !important;
    overflow: hidden !important;
    text-overflow: ellipsis !important;
    min-width: 0 !important;
    width: auto !important;
    text-align: left !important;
  }

  /* PRIX - AFFICHER à droite */
  td[data-label="Prix"],
  .modern-table td[data-label="Prix"],
  .box .modern-table td[data-label="Prix"] {
    display: block !important;
    visibility: visible !important;
    font-size: 1rem !important;
    font-weight: 700 !important;
    color: #10b981 !important;
    padding: 0 !important;
    margin: 0 !important;
    white-space: nowrap !important;
    flex-shrink: 0 !important;
    width: auto !important;
    text-align: right !important;
  }

  /* SPECIAL: Pour "Client potentiel" (1ère box), afficher téléphone au lieu du prix */
  .box:first-of-type td[data-label="Prix"],
  .box:first-of-type .modern-table td[data-label="Prix"] {
    display: none !important;
    visibility: hidden !important;
  }

  .box:first-of-type td[data-label="Téléphone"],
  .box:first-of-type .modern-table td[data-label="Téléphone"] {
    display: block !important;
    visibility: visible !important;
    font-size: 0.875rem !important;
    font-weight: 500 !important;
    color: #94a3b8 !important;
    padding: 0 !important;
    margin: 0 !important;
    white-space: nowrap !important;
    flex-shrink: 0 !important;
    width: auto !important;
    text-align: right !important;
  }

  /* Cacher les actions desktop sur mobile */
  .desktop-actions-only {
    display: none !important;
  }

  /* Pas de chevron */
  .box .modern-table tbody tr::after,
  .modern-table tbody tr::after {
    display: none !important;
    content: none !important;
  }

  /* ===== POPUP MOBILE ===== */
  #clientInfoModal,
  #ajouterProspectModal,
  #confirmPerduModal,
  #clients-perdus-modal,
  #clientsPerdusModal,
  #prospectDetailsModal {
    padding: 12px !important;
    overflow-y: auto !important;
  }

  /* Contenu popup compact */
  #clientInfoModal > div,
  #clientInfoCard,
  #ajouterProspectModal > div,
  #clientsPerdusModal > div,
  #prospectDetailsCard {
    padding: 1rem !important;
    max-height: calc(100vh - 24px) !important;
    overflow-y: auto !important;
  }

  /* Textes et éléments plus compacts sur mobile */
  #clientInfoCard h3 {
    font-size: 1rem !important;
  }

  #clientInfoCard .text-xl {
    font-size: 1rem !important;
  }

  /* Réduire padding du card principal */
  #clientInfoCard {
    padding: 0.75rem !important;
  }

  /* Info client - padding ultra réduit */
  #clientInfoCard > div > div[style*="padding: 1rem"] {
    padding: 0.5rem !important;
  }

  #clientInfoCard div[style*="padding: 0.75rem 0"] {
    padding: 0.35rem 0 !important;
  }

  /* Labels plus petits */
  #clientInfoCard div[style*="font-size: 0.75rem"] {
    font-size: 0.65rem !important;
    margin-bottom: 0.15rem !important;
  }

  /* Valeurs plus petites */
  #clientInfoCard div[style*="font-weight: 500"] {
    font-size: 0.8rem !important;
  }

  /* Nom complet - taille normale */
  #clientInfoCard > div > div:first-child div[style*="font-weight: 500"] {
    font-size: 1rem !important;
  }

  /* Prix - taille normale */
  #clientInfoCard div[style*="font-size: 1.125rem"] {
    font-size: 1.125rem !important;
  }

  /* Icônes à gauche plus petites */
  #clientInfoCard i.fa-user,
  #clientInfoCard i.fa-phone,
  #clientInfoCard i.fa-map-marker-alt,
  #clientInfoCard i.fa-envelope,
  #clientInfoCard i.fa-dollar-sign {
    font-size: 0.85rem !important;
  }

  /* Boutons action - très compacts */
  #clientInfoCard .btn-action-mobile {
    font-size: 0.7rem !important;
    padding: 0.4rem 0.5rem !important;
  }

  #clientInfoCard .btn-action-mobile i {
    font-size: 0.75rem !important;
    margin-right: 0.25rem !important;
  }

  /* Bouton "Terminer production" - plus compact */
  #clientInfoCard button[style*="px-6"] {
    padding: 0.5rem 0.75rem !important;
    font-size: 0.75rem !important;
  }

  /* Bouton Marquer comme perdu sur ligne du nom */
  #clientInfoCard .btn-marquer-perdu {
    font-size: 0.6rem !important;
    padding: 0.2rem 0.4rem !important;
  }

  /* Espacement boutons très réduit */
  #clientInfoCard .space-x-3 {
    gap: 0.35rem !important;
  }

  #clientInfoCard .space-y-3 {
    gap: 0.5rem !important;
  }

  /* Séparateurs plus fins */
  #clientInfoCard div[style*="border-top"] {
    margin: 0.5rem 0 !important;
    padding-top: 0.5rem !important;
  }

  /* Cacher "Voir " sur mobile dans les boutons */
  #clientInfoCard .btn-text-desktop {
    display: none !important;
  }

  /* Garder les boutons côte à côte sur mobile */
  #clientInfoCard .flex.justify-end.space-x-3 {
    flex-wrap: nowrap !important;
  }

  /* Modal content - pas de scroll, tout visible */
  #clientInfoCard {
    max-height: none !important;
    overflow-y: visible !important;
  }

  #clientInfoModal {
    overflow-y: auto !important;
  }

  /* Table clients perdus - identique aux autres tables (nom + prix) */
  #clientsPerdusModal .modern-table tbody tr {
    display: flex;
    flex-direction: row !important;
    align-items: center !important;
    justify-content: space-between !important;
    padding: 1rem !important;
    margin-bottom: 0.5rem !important;
    background: rgba(30, 41, 59, 0.5) !important;
    border: none !important;
    border-radius: 8px !important;
    overflow: hidden !important;
    gap: 1rem !important;
    width: auto !important;
    box-sizing: border-box !important;
    cursor: pointer !important;
  }

  /* Cacher toutes les colonnes sauf nom et prix */
  #clientsPerdusModal .modern-table tbody td {
    display: none !important;
  }

  /* Afficher seulement le nom (1ère colonne) */
  #clientsPerdusModal .modern-table tbody td:nth-child(1) {
    display: block !important;
    flex: 1 !important;
    font-weight: 600 !important;
    font-size: 15px !important;
    color: #f1f5f9 !important;
    padding: 0 !important;
    margin: 0 !important;
    white-space: nowrap !important;
    overflow: hidden !important;
    text-overflow: ellipsis !important;
    min-width: 0 !important;
  }

  /* Afficher le prix (4ème colonne) */
  #clientsPerdusModal .modern-table tbody td:nth-child(4) {
    display: block !important;
    font-size: 16px !important;
    font-weight: 700 !important;
    color: rgba(241, 245, 249, 0.9) !important;
    padding: 0 !important;
    margin: 0 !important;
    white-space: nowrap !important;
    flex-shrink: 0 !important;
    width: 30% !important;
    text-align: right !important;
  }

  /* Supprimer les bordures droites */
  #clientsPerdusModal .modern-table th,
  #clientsPerdusModal .modern-table td {
    border-right: none !important;
  }

  #clientsPerdusModal .w-8 {
    width: 28px !important;
    height: 28px !important;
  }

  #clientsPerdusContent {
    height: auto !important;
    max-height: calc(100vh - 200px) !important;
    min-height: auto !important;
  }

  /* Cartes clients perdus compactes sur mobile */
  .client-perdu-card {
    display: flex !important;
    flex-direction: row !important;
    align-items: center !important;
    padding: 10px !important;
    gap: 8px !important;
  }

  .client-perdu-card > .flex.flex-col {
    flex: 1 !important;
    display: flex !important;
    flex-direction: row !important;
    align-items: center !important;
    gap: 8px !important;
    min-width: 0 !important;
  }

  .client-perdu-card .pr-10 {
    flex: 1 !important;
    padding-right: 0 !important;
    min-width: 0 !important;
  }

  /* Cacher les détails sur mobile */
  .client-perdu-card .space-y-1,
  .client-perdu-card .mb-2 .px-2,
  .client-perdu-card .mb-3 {
    display: none !important;
  }

  /* Nom client compact */
  .client-perdu-card h4 {
    margin: 0 !important;
    font-size: 14px !important;
    white-space: nowrap !important;
    overflow: hidden !important;
    text-overflow: ellipsis !important;
  }

  .client-perdu-card h4 i {
    display: none !important;
  }

  /* Bouton supprimer en haut à droite - repositionner */
  .client-perdu-card > button.absolute {
    position: static !important;
    flex-shrink: 0 !important;
    order: 2 !important;
  }

  /* Boutons récupérer/PDF alignés à droite */
  .client-perdu-card .flex.justify-end {
    margin-left: auto !important;
    flex-shrink: 0 !important;
    gap: 4px !important;
  }

  .client-perdu-card .flex.justify-end .px-3 {
    padding: 4px 8px !important;
    font-size: 12px !important;
  }

  .client-perdu-card .flex.justify-end a {
    width: 28px !important;
    height: 28px !important;
  }

  .client-perdu-card .flex.justify-end a img {
    width: 24px !important;
    height: 24px !important;
  }

  /* Réduire espacement dans les popups */
  #clientInfoCard .space-y-3 {
    gap: 0.5rem !important;
  }

  #clientInfoCard .space-y-3 > div {
    margin-bottom: 0.4rem !important;
  }

  #clientInfoCard .mb-4,
  #clientInfoCard .mb-6 {
    margin-bottom: 0.5rem !important;
  }

  #clientInfoCard .p-3,
  #clientInfoCard .p-4 {
    padding: 0.5rem !important;
  }

  #clientInfoCard .text-lg {
    font-size: 0.9rem !important;
  }

  #clientInfoCard .text-sm {
    font-size: 0.75rem !important;
  }

  #clientInfoCard .text-xl {
    font-size: 1rem !important;
  }

  /* Boutons plus compacts */
  #clientInfoCard button,
  #clientInfoCard .btn-primary,
  #clientInfoCard .btn-secondary {
    padding: 0.4rem 0.75rem !important;
    font-size: 0.8rem !important;
  }

  /* Titre modal plus petit sur mobile */
  #ajouterProspectModal h3,
  #confirmPerduModal h3,
  #clients-perdus-modal h3,
  #clientsPerdusModal h3,
  #clientInfoCard h3 {
    font-size: 1rem !important;
    margin-bottom: 0.5rem !important;
  }

  /* Header principal des popups - style prononcé (premier flex header seulement) */
  #ajouterProspectModal > div > .flex.items-center.justify-between:first-child,
  #confirmPerduModal > div > .flex.items-center.justify-between:first-child,
  #clients-perdus-modal > div > .flex.items-center.justify-between:first-child,
  #clientsPerdusModal > div > .flex.items-center.justify-between:first-child,
  #clientInfoCard > .flex.items-center.justify-between:first-child,
  #prospectDetailsCard > .flex.items-center.justify-between:first-child {
    background: linear-gradient(135deg, rgba(96, 165, 250, 0.1) 0%, rgba(59, 130, 246, 0.05) 100%) !important;
    margin: -16px -16px 10px -16px !important;
    padding: 12px !important;
    border-bottom: 1px solid rgba(96, 165, 250, 0.2) !important;
    border-radius: 8px 8px 0 0 !important;
  }

  #ajouterProspectModal > div > .flex.items-center.justify-between:first-child h3,
  #confirmPerduModal > div > .flex.items-center.justify-between:first-child h3,
  #clients-perdus-modal > div > .flex.items-center.justify-between:first-child h3,
  #clientsPerdusModal > div > .flex.items-center.justify-between:first-child h3,
  #clientInfoCard > .flex.items-center.justify-between:first-child h3,
  #prospectDetailsCard > .flex.items-center.justify-between:first-child h3 {
    margin-bottom: 0 !important;
  }

  /* ===== EMPTY STATE ===== */
  .modern-table tbody tr:has(.empty-state),
  .box .modern-table tbody tr:has(.empty-state) {
    display: flex !important;
    justify-content: center !important;
    align-items: center !important;
    width: 100% !important;
    background: transparent !important;
    border: none !important;
    padding: 2rem 0 !important;
    margin: 0 !important;
    gap: 0 !important;
  }

  .modern-table tbody tr:has(.empty-state)::after,
  .box .modern-table tbody tr:has(.empty-state)::after {
    display: none !important;
    content: none !important;
  }

  .modern-table tbody td.empty-state,
  .box .modern-table tbody td.empty-state {
    display: flex !important;
    flex-direction: column !important;
    justify-content: center !important;
    align-items: center !important;
    width: auto !important;
    max-width: 100% !important;
    padding: 0 16px !important;
    text-align: center !important;
  }

  .modern-table tbody td.empty-state i,
  .box .modern-table tbody td.empty-state i {
    display: block !important;
    font-size: 2.5rem !important;
    margin-bottom: 1rem !important;
    opacity: 0.5 !important;
    color: var(--text-gray) !important;
  }

  .modern-table tbody td.empty-state p,
  .box .modern-table tbody td.empty-state p {
    font-size: 0.85rem !important;
    color: var(--text-gray) !important;
    margin: 0 !important;
    white-space: nowrap !important;
  }

  /* Boutons Production terminée / Annulation en 50/50 */
  #clientInfoCard .border-t > div[style*="flex"] {
    display: flex !important;
    flex-direction: row !important;
    flex-wrap: nowrap !important;
    gap: 8px !important;
    width: 100% !important;
  }

  #clientInfoCard .border-t > div[style*="flex"] > button {
    flex: 1 !important;
    min-width: 0 !important;
    padding: 0.6rem 0.5rem !important;
    font-size: 0.75rem !important;
  }

  #clientInfoCard .border-t > div[style*="flex"] > button span {
    font-size: 0.75rem !important;
  }

  /* Cacher texte sur mobile */
  .hide-mobile {
    display: none !important;
  }

  /* Afficher texte uniquement sur mobile */
  .show-mobile {
    display: inline !important;
  }

  /* Cacher éléments desktop sur mobile */
  .hide-on-mobile {
    display: none !important;
  }

  /* Popup client perdu - styles identiques aux autres popups */
  #clientPerduDetailsModal {
    padding: 12px !important;
    overflow-y: auto !important;
  }

  #clientPerduDetailsCard {
    padding: 12px !important;
    max-height: calc(100vh - 24px) !important;
    overflow-y: auto !important;
  }

  #clientPerduDetailsCard > .flex.items-center.justify-between:first-child {
    background: linear-gradient(135deg, rgba(148, 163, 184, 0.1) 0%, rgba(100, 116, 139, 0.05) 100%) !important;
    margin: -12px -12px 12px -12px !important;
    padding: 12px !important;
    border-bottom: 1px solid rgba(148, 163, 184, 0.2) !important;
    border-radius: 8px 8px 0 0 !important;
  }

  #clientPerduDetailsCard > .flex.items-center.justify-between:first-child h3 {
    margin-bottom: 0 !important;
  }
}

/* ================================================================
   PC ET TABLETTE - Colonnes larges avec scroll horizontal
   Toutes les colonnes visibles, checkbox sticky (comme RPO)
   ================================================================ */
@media (min-width: 601px) {
  /* Box overflow hidden pour contenir le scroll */
  .box {
    overflow: hidden !important;
    position: relative !important;
  }

  /* Box-body contient le scroll */
  .box-body {
    overflow: hidden !important;
    position: relative !important;
  }

  /* Table container avec scroll horizontal + grab to scroll */
  .table-container {
    overflow-x: scroll !important;
    overflow-y: hidden !important;
    -webkit-overflow-scrolling: touch;
    position: relative !important;
    margin-right: 0 !important;
    padding-right: 0 !important;
    cursor: grab !important;
    user-select: none !important;
  }

  .table-container:active {
    cursor: grabbing !important;
  }

  /* Table plus large pour colonnes bien visibles */
  .modern-table {
    min-width: 1900px !important;
    width: 1900px !important;
    table-layout: fixed !important;
  }

  /* FORCER toutes les colonnes visibles - override col-hide-tablet */
  .col-hide-tablet {
    display: table-cell !important;
    visibility: visible !important;
  }

  /* Checkbox column sticky avec même largeur que PC */
  .modern-table thead tr th:first-child,
  .modern-table tbody tr td:first-child {
    position: sticky !important;
    left: 0 !important;
    z-index: 20 !important;
    background: var(--bg-card) !important;
    width: 50px !important;
    min-width: 50px !important;
    max-width: 50px !important;
  }

  .modern-table thead tr th:first-child {
    z-index: 30 !important;
    background: #1e293b !important;
  }

  /* Pseudo-element pour la bordure sticky - discret */
  .modern-table thead tr th:first-child::after,
  .modern-table tbody tr td:first-child::after {
    content: '' !important;
    position: absolute !important;
    top: 0 !important;
    right: 0 !important;
    bottom: 0 !important;
    width: 1px !important;
    background: rgba(148, 163, 184, 0.3) !important;
    box-shadow: 2px 0 6px rgba(0, 0, 0, 0.2) !important;
  }

  /* Hover sur les lignes - garder le background sticky */
  .modern-table tbody tr:hover td:first-child {
    background: var(--bg-card) !important;
  }

  /* Style scrollbar horizontal - très fin et toujours visible */
  .table-container::-webkit-scrollbar {
    height: 4px;
    -webkit-appearance: none;
  }

  .table-container::-webkit-scrollbar-track {
    background: rgba(30, 41, 59, 0.5);
    border-radius: 2px;
  }

  .table-container::-webkit-scrollbar-thumb {
    background: rgba(148, 163, 184, 0.5);
    border-radius: 2px;
    -webkit-appearance: none;
  }

  /* Firefox */
  .table-container {
    scrollbar-width: thin;
    scrollbar-color: rgba(148, 163, 184, 0.5) rgba(30, 41, 59, 0.5);
  }

  /* Forcer la scrollbar visible sur iOS/iPad */
  .table-container {
    -webkit-overflow-scrolling: auto;
  }

  /* PC ET TABLETTE - Popup compact */
  #clientInfoModal,
  #ajouterProspectModal,
  #confirmPerduModal,
  #clientsPerdusModal,
  #prospectDetailsModal {
    padding: 1rem !important;
  }

  #clientInfoModal > div,
  #clientInfoCard,
  #ajouterProspectModal > div,
  #clientsPerdusModal > div,
  #prospectDetailsCard {
    padding: 1rem !important;
    max-width: 550px !important;
    max-height: 85vh !important;
    overflow-y: auto !important;
  }

  /* Titres plus compacts */
  #clientInfoCard h3 {
    font-size: 1rem !important;
    margin-bottom: 0.75rem !important;
  }

  /* Textes plus compacts */
  #clientInfoCard .text-xl {
    font-size: 1rem !important;
  }

  #clientInfoCard .text-lg {
    font-size: 0.9rem !important;
  }

  #clientInfoCard .text-sm {
    font-size: 0.8rem !important;
  }

  /* Espacements réduits */
  #clientInfoCard .space-y-3 {
    gap: 0.5rem !important;
  }

  #clientInfoCard .mb-4,
  #clientInfoCard .mb-6 {
    margin-bottom: 0.5rem !important;
  }

  #clientInfoCard .p-3,
  #clientInfoCard .p-4 {
    padding: 0.5rem !important;
  }

  /* Boutons compacts */
  #clientInfoCard button,
  #clientInfoCard .btn-primary,
  #clientInfoCard .btn-secondary {
    padding: 0.5rem 0.75rem !important;
    font-size: 0.85rem !important;
  }
}

/* TABLETTE UNIQUEMENT - Cacher scrollbar + compact */
@media (min-width: 601px) and (max-width: 1200px) {
  /* Cacher scrollbar tout en gardant la fonctionnalité scroll */
  .table-container::-webkit-scrollbar {
    display: none !important;
  }

  .table-container {
    scrollbar-width: none !important;
    -ms-overflow-style: none !important;
  }

  #clientInfoModal > div,
  #clientInfoCard,
  #ajouterProspectModal > div,
  #clientsPerdusModal > div,
  #prospectDetailsCard {
    padding: 0.75rem !important;
    max-width: 480px !important;
    max-height: 80vh !important;
  }

  #clientInfoCard h3 {
    font-size: 0.95rem !important;
    margin-bottom: 0.5rem !important;
  }

  #clientInfoCard .text-xl {
    font-size: 0.95rem !important;
  }

  #clientInfoCard .text-lg {
    font-size: 0.85rem !important;
  }

  #clientInfoCard .text-sm {
    font-size: 0.75rem !important;
  }

  #clientInfoCard .space-y-3 {
    gap: 0.4rem !important;
  }

  #clientInfoCard .p-3,
  #clientInfoCard .p-4 {
    padding: 0.4rem !important;
  }

  #clientInfoCard button,
  #clientInfoCard .btn-primary,
  #clientInfoCard .btn-secondary {
    padding: 0.4rem 0.6rem !important;
    font-size: 0.8rem !important;
  }
}

/* ================================================================
   POPUPS COMPACT - Header/Footer sticky, contenu scrollable
   ================================================================ */
@media (min-width: 601px) {
  /* Client Info Modal - Layout flex pour sticky header */
  #clientInfoCard {
    display: flex !important;
    flex-direction: column !important;
    padding: 0 !important;
    max-height: 85vh !important;
    overflow: hidden !important;
  }

  /* Header sticky en haut */
  #clientInfoCard > .flex.items-center.justify-between:first-child {
    position: sticky !important;
    top: 0 !important;
    z-index: 10 !important;
    background: #1e293b !important;
    padding: 0.75rem 1rem !important;
    border-bottom: 1px solid rgba(71, 85, 105, 0.4) !important;
    flex-shrink: 0 !important;
  }

  /* Contenu scrollable */
  #clientInfoContent {
    flex: 1 !important;
    overflow-y: auto !important;
    padding: 0.75rem 1rem !important;
    scrollbar-width: thin !important;
  }

  #clientInfoContent::-webkit-scrollbar {
    width: 4px !important;
  }

  #clientInfoContent::-webkit-scrollbar-track {
    background: rgba(30, 41, 59, 0.5) !important;
  }

  #clientInfoContent::-webkit-scrollbar-thumb {
    background: rgba(148, 163, 184, 0.4) !important;
    border-radius: 2px !important;
  }

  /* Bouton Renvoyer soumission en haut */
  #clientInfoContent .renvoyer-soumission-top {
    margin-bottom: 0.5rem !important;
  }

  #clientInfoContent .renvoyer-soumission-top button {
    padding: 0.35rem 0.6rem !important;
    font-size: 0.75rem !important;
  }

  /* Bouton Marquer comme perdu sur ligne du nom */
  #clientInfoContent .btn-marquer-perdu {
    padding: 0.25rem 0.5rem !important;
    font-size: 0.65rem !important;
    flex-shrink: 0 !important;
  }

  /* Compacter les infos client */
  #clientInfoContent > div[style*="background: rgba(30, 41, 59, 0.5)"] {
    padding: 0.5rem !important;
    margin-bottom: 0.5rem !important;
  }

  #clientInfoContent > div[style*="background: rgba(30, 41, 59, 0.5)"] > div {
    padding: 0.4rem 0 !important;
  }

  #clientInfoContent > div[style*="background: rgba(30, 41, 59, 0.5)"] div[style*="font-size: 0.75rem"] {
    font-size: 0.65rem !important;
    margin-bottom: 0.1rem !important;
  }

  #clientInfoContent > div[style*="background: rgba(30, 41, 59, 0.5)"] div[style*="font-weight: 500"],
  #clientInfoContent > div[style*="background: rgba(30, 41, 59, 0.5)"] span[style*="font-weight: 500"] {
    font-size: 0.85rem !important;
  }

  /* Compacter section fichiers */
  #clientInfoContent h4 {
    font-size: 0.85rem !important;
    margin-bottom: 0.4rem !important;
  }

  #clientInfoContent .grid {
    gap: 0.4rem !important;
  }

  #clientInfoContent .grid button {
    padding: 0.4rem 0.6rem !important;
    font-size: 0.75rem !important;
  }

  /* Compacter section actions */
  #clientInfoContent > .flex.space-x-3,
  #clientInfoContent > div > .flex.space-x-3 {
    gap: 0.4rem !important;
    margin-top: 0.5rem !important;
  }

  #clientInfoContent button.flex-1 {
    padding: 0.5rem !important;
    font-size: 0.8rem !important;
  }

  /* Footer sticky pour boutons d'action */
  #clientInfoContent > .pt-4,
  #clientInfoContent .pt-4 {
    position: sticky !important;
    bottom: 0 !important;
    z-index: 5 !important;
    background: linear-gradient(to top, #1e293b 0%, #1e293b 80%, transparent 100%) !important;
    padding: 0.75rem 0 0.25rem 0 !important;
    margin: 0 !important;
  }

  /* Boutons action compact */
  #clientInfoContent .pt-4 button {
    padding: 0.4rem 0.6rem !important;
    font-size: 0.75rem !important;
  }

  #clientInfoContent .pt-4 .space-x-3 {
    gap: 0.35rem !important;
  }

  /* Boutons PDF, GQP, Calcul - plus compact */
  #clientInfoContent .btn-secondary.btn-action-mobile {
    padding: 0.4rem 0.5rem !important;
    font-size: 0.7rem !important;
  }

  #clientInfoContent .btn-secondary.btn-action-mobile i {
    font-size: 0.7rem !important;
    margin-right: 0.25rem !important;
  }

  /* Bouton Terminer production plus compact */
  #clientInfoContent .pt-4 button[onclick*="terminerProduction"] {
    padding: 0.5rem 0.75rem !important;
    font-size: 0.8rem !important;
  }

  /* Separateur compact */
  #clientInfoContent .pt-4 div[style*="border-top"] {
    margin: 0.5rem 0 !important;
  }
}

/* TABLETTE - Encore plus compact */
@media (min-width: 601px) and (max-width: 1200px) {
  #clientInfoCard {
    max-width: 420px !important;
    max-height: 80vh !important;
  }

  #clientInfoCard > .flex.items-center.justify-between:first-child {
    padding: 0.5rem 0.75rem !important;
  }

  #clientInfoCard > .flex.items-center.justify-between:first-child h3 {
    font-size: 0.9rem !important;
  }

  #clientInfoContent {
    padding: 0.5rem 0.75rem !important;
  }

  #clientInfoContent > div[style*="background: rgba(30, 41, 59, 0.5)"] > div {
    padding: 0.3rem 0 !important;
  }

  #clientInfoContent > div[style*="background: rgba(30, 41, 59, 0.5)"] div[style*="font-size: 0.75rem"] {
    font-size: 0.6rem !important;
  }

  #clientInfoContent > div[style*="background: rgba(30, 41, 59, 0.5)"] div[style*="font-weight: 500"],
  #clientInfoContent > div[style*="background: rgba(30, 41, 59, 0.5)"] span[style*="font-weight: 500"] {
    font-size: 0.8rem !important;
  }

  #clientInfoContent button.flex-1 {
    padding: 0.4rem !important;
    font-size: 0.75rem !important;
  }

  /* Footer encore plus compact sur tablette */
  #clientInfoContent > .pt-4,
  #clientInfoContent .pt-4 {
    padding: 0.5rem 0 0.25rem 0 !important;
  }

  #clientInfoContent .pt-4 button {
    padding: 0.35rem 0.5rem !important;
    font-size: 0.7rem !important;
  }

  #clientInfoContent .btn-secondary.btn-action-mobile {
    padding: 0.35rem 0.4rem !important;
    font-size: 0.65rem !important;
  }

  #clientInfoContent .btn-secondary.btn-action-mobile i {
    margin-right: 0.2rem !important;
  }

  /* Bouton Terminer production tablette */
  #clientInfoContent .pt-4 button[onclick*="terminerProduction"] {
    padding: 0.4rem 0.6rem !important;
    font-size: 0.75rem !important;
  }

  /* Separateur encore plus compact */
  #clientInfoContent .pt-4 div[style*="border-top"] {
    margin: 0.4rem 0 !important;
  }
}