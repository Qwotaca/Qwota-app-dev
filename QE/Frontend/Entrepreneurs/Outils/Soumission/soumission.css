/* Variables CSS thème sombre */
  :root {
    --primary-blue: #60a5fa;
    --primary-green: #34d399;
    --primary-red: #f87171;
    --primary-orange: #fb923c;
    --primary-purple: #a78bfa;
    --primary-indigo: #818cf8;
    --primary-pink: #f472b6;
    --primary-teal: #2dd4bf;
    --bg-dark: #0f172a;
    --bg-card: #1e293b;
    --text-light: #f1f5f9;
    --text-gray: #94a3b8;
    --border-dark: #334155;
    --shadow-dark: 0 4px 6px -1px rgba(0, 0, 0, 0.4), 0 2px 4px -1px rgba(0, 0, 0, 0.2);
    --shadow-dark-medium: 0 10px 15px -3px rgba(0, 0, 0, 0.4), 0 4px 6px -2px rgba(0, 0, 0, 0.2);
    --shadow-dark-strong: 0 20px 25px -5px rgba(0, 0, 0, 0.4), 0 10px 10px -5px rgba(0, 0, 0, 0.2);
    --shadow-dark-soft: 0 1px 3px rgba(0, 0, 0, 0.4), 0 1px 2px rgba(0, 0, 0, 0.2);
  }

  /* Scrollbar discret pour endroit à peinturer, produit/couleurs et particularités */
  .modern-textarea::-webkit-scrollbar,
  .popup-trigger::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }

  .modern-textarea::-webkit-scrollbar-track,
  .popup-trigger::-webkit-scrollbar-track {
    background: rgba(30, 41, 59, 0.4);
    border-radius: 3px;
    margin: 8px 0;
  }

  .modern-textarea::-webkit-scrollbar-thumb,
  .popup-trigger::-webkit-scrollbar-thumb {
    background: rgba(148, 163, 184, 0.5);
    border-radius: 3px;
    border: 2px solid transparent;
    background-clip: padding-box;
  }

  .modern-textarea::-webkit-scrollbar-thumb:hover,
  .popup-trigger::-webkit-scrollbar-thumb:hover {
    background: rgba(148, 163, 184, 0.7);
    background-clip: padding-box;
  }

  /* CSS anti-flash désactivé - menu statique maintenant */
  /* li[data-role*="admin"],
  li[data-role*="direction"],
  li[data-role*="coach"] {
    display: none;
  } */

  /* Cacher éléments admin pour cette page entrepreneur */
  li[data-role*="admin"]:not([data-role*="entrepreneur"]),
  li[data-role="coach"] {
    display: none !important;
  }

  
  /* Header spécial thème dark */

  /* Status cards styles - Dark Theme - EXACT COPY FROM newgqp.html */
  .status-card {
    background: var(--bg-card);
    backdrop-filter: blur(10px);
    border-radius: 20px;
    box-shadow: var(--shadow-dark-medium);
    border: 1px solid var(--border-dark);
    position: relative;
    overflow: hidden;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .status-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: linear-gradient(135deg, var(--card-color), var(--card-color));
    border-radius: 20px 20px 0 0;
  }

  .status-card:hover {
    box-shadow: var(--shadow-dark-strong);
    border-color: var(--border-dark);
  }

  .status-cards-grid {
    display: grid;
  }

  /* Modern Form Card - Dark Theme - EXACT COPY FROM newgqp.html */
  .form-card {
    background: var(--bg-card);
    backdrop-filter: blur(10px);
    border-radius: 20px;
    box-shadow: var(--shadow-dark-medium);
    border: 1px solid var(--border-dark);
    position: relative;
    overflow: hidden;
  }

  /* Exception pour les grands dropdowns - ils peuvent dépasser */
  .form-card .dropdown-toggle.large-field {
    overflow: visible !important;
  }

  .form-card .dropdown.large-dropdown {
    overflow: visible !important;
  }

  /* Modern inputs style - Dark Theme - EXACT COPY FROM newgqp.html */
  .modern-input {
    background: #172033;
    border: 2px solid rgb(71 85 105 / 62%);
    border-radius: 12px;
    padding: 12px 16px;
    font-size: 14px;
    height: 48px;
    transition: all 0.3s ease;
    font-family: inherit;
    width: 100%;
    color: var(--text-light);
  }

  .modern-input:focus {
    outline: none;
    border-color: var(--primary-blue);
    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
    background: #172033;
  }

  .modern-input::placeholder {
    color: var(--text-gray);
    font-size: 14px;
  }

  /* Modern textarea - Dark Theme - EXACT COPY FROM newgqp.html */
  .modern-textarea {
    background: #172033;
    border: 2px solid rgb(71 85 105 / 62%);
    border-radius: 12px;
    padding: 12px 16px;
    font-size: 14px;
    transition: all 0.3s ease;
    resize: none;
    font-family: inherit;
    width: 100%;
    color: var(--text-light);
  }

  .modern-textarea:focus {
    outline: none;
    border-color: var(--primary-blue);
    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
    background: #172033;
  }

  /* Dropdown styles are now loaded from base.css */

  /* Modern button - EXACT COPY FROM newgqp.html */
  .modern-btn {
    background-color: #414141 !important;
    color: white;
    border: none;
    border-radius: 28px !important;
    padding: 6px 16px !important;
    font-size: 14px !important;
    font-weight: 700 !important;
    cursor: pointer;
    transition: transform 0.2s ease, box-shadow 0.2s ease;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
    position: relative;
    overflow: hidden;
    display: inline-block;
  }

  .modern-btn::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
    transition: left 0.5s ease;
    z-index: 1;
  }

  .modern-btn:hover {
    transform: scale(1.05);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
  }

  .modern-btn:hover::before {
    left: 100%;
  }

  .modern-btn:disabled {
    opacity: 0.6;
    cursor: not-allowed;
    transform: none;
  }
  
  .modern-btn span {
    position: relative;
    z-index: 2;
  }

  /* All button styles removed - now loaded from base.css */

  /* Styles pour les dropdowns existants - mise à jour pour le thème sombre */
  .dropdown-toggle {
    background: #172033 !important;
    border: 2px solid rgb(71 85 105 / 62%) !important;
    color: var(--text-light) !important;
    border-radius: 12px !important;
    transition: all 0.3s ease;
    padding: 8px 16px !important;
    font-size: 14px !important;
  }

  .dropdown-toggle.has-selection:not(#paidByToggle) {
    padding: 8px 8px !important;
  }

  #paidByToggle,
  #itemToggle:has(.tag) {
    padding: 8px 8px !important;
  }

  .dropdown-toggle:focus,
  .dropdown-toggle.active {
    outline: none !important;
    border-color: var(--primary-blue) !important;
    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1) !important;
  }

  .dropdown-toggle.large-field {
    background: #172033 !important;
    border: 2px solid rgb(71 85 105 / 62%) !important;
    color: var(--text-light) !important;
  }

  .tag {
    background: rgba(59, 130, 246, 0.2) !important;
    color: var(--text-light) !important;
    border-radius: 20px;
    padding: 4px 10px;
    font-size: 13px;
    flex-shrink: 0;
    word-break: break-word;
    max-width: 100%;
  }

  .dropdown-menu {
    background: var(--bg-card) !important;
    border: 1px solid var(--border-dark) !important;
    border-radius: 12px !important;
    box-shadow: var(--shadow-dark-medium) !important;
    z-index: 99999 !important;
    position: absolute !important;
  }

  .dropdown-menu .dropdown-option {
    color: var(--text-light) !important;
    transition: all 0.2s ease;
  }

  .dropdown-menu .dropdown-option:hover {
    background: rgba(59, 130, 246, 0.1) !important;
  }

  #itemMenu {
    max-height: 125px !important;
  }

  /* Scrollbar styling supprimé - utilise le style uniforme défini plus haut (ligne 73-98) */

  .dropdown-header {
    background: var(--bg-card) !important;
    color: var(--text-light) !important;
    border-bottom: 1px solid var(--border-dark) !important;
    font-weight: 600 !important;
  }

  .placeholder {
    color: var(--text-gray) !important;
  }

  #customProductInput, #customPartTravauxInput {
    background: transparent !important;
    color: var(--text-light) !important;
    border: none !important;
    outline: none !important;
  }

  #customProductInput::placeholder, #customPartTravauxInput::placeholder {
    color: var(--text-gray) !important;
  }

  /* Styles pour les dropdowns fonctionnels */
  .dropdown {
    z-index: 999 !important;
    position: relative !important;
  }

  #paidByToggle, #itemToggle {
    z-index: 1000 !important;
    position: relative !important;
    background: #172033 !important;
    border: 2px solid rgb(71 85 105 / 62%) !important;
    color: var(--text-light) !important;
    cursor: pointer !important;
  }

  #paidByMenu, #itemMenu {
    z-index: 10000 !important;
    position: absolute !important;
    background: var(--bg-card) !important;
    border: 1px solid var(--border-dark) !important;
    border-radius: 12px !important;
    box-shadow: var(--shadow-dark-medium) !important;
  }

  .dropdown-option {
    color: var(--text-light) !important;
    cursor: pointer !important;
  }

  .dropdown-option:hover {
    background: rgba(59, 130, 246, 0.1) !important;
  }

  /* Custom scrollbar for dropdowns - Dark theme */
  .dropdown-menu::-webkit-scrollbar,
  .modern-dropdown-menu::-webkit-scrollbar,
  .dropdown-toggle::-webkit-scrollbar {
    width: 8px;
  }

  .dropdown-menu::-webkit-scrollbar-track,
  .modern-dropdown-menu::-webkit-scrollbar-track,
  .dropdown-toggle::-webkit-scrollbar-track {
    background: var(--bg-card);
    border-radius: 4px;
  }

  .dropdown-menu::-webkit-scrollbar-thumb,
  .modern-dropdown-menu::-webkit-scrollbar-thumb,
  .dropdown-toggle::-webkit-scrollbar-thumb {
    background: var(--border-dark);
    border-radius: 4px;
    transition: background 0.3s ease;
  }

  .dropdown-menu::-webkit-scrollbar-thumb:hover,
  .modern-dropdown-menu::-webkit-scrollbar-thumb:hover,
  .dropdown-toggle::-webkit-scrollbar-thumb:hover {
    background: var(--primary-blue);
  }

  /* For Firefox */
  .dropdown-menu,
  .modern-dropdown-menu,
  .dropdown-toggle {
    scrollbar-width: thin;
    scrollbar-color: var(--border-dark) var(--bg-card);
  }

  /* Custom scrollbar for popups - Dark theme */
  .popup-left::-webkit-scrollbar,
  .popup-textarea::-webkit-scrollbar {
    width: 8px;
  }

  .popup-left::-webkit-scrollbar-track,
  .popup-textarea::-webkit-scrollbar-track {
    background: var(--bg-card);
    border-radius: 4px;
  }

  .popup-left::-webkit-scrollbar-thumb,
  .popup-textarea::-webkit-scrollbar-thumb {
    background: var(--border-dark);
    border-radius: 4px;
    transition: background 0.3s ease;
  }

  .popup-left::-webkit-scrollbar-thumb:hover,
  .popup-textarea::-webkit-scrollbar-thumb:hover {
    background: var(--primary-blue);
  }

  /* For Firefox */
  .popup-left,
  .popup-textarea {
    scrollbar-width: thin;
    scrollbar-color: var(--border-dark) var(--bg-card);
  }

  /* Popup Modal Styles */
  .popup-modal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background: rgba(0, 0, 0, 0.7);
    backdrop-filter: blur(8px);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 100000;
    opacity: 0;
    visibility: hidden;
    transition: all 0.3s ease;
  }

  .popup-modal.active {
    opacity: 1;
    visibility: visible;
  }

  .popup-content {
    background: var(--bg-card);
    border-radius: 20px;
    border: 1px solid var(--border-dark);
    box-shadow: var(--shadow-dark-strong);
    width: 90vw;
    max-width: 1000px;
    height: 70vh;
    max-height: 600px;
    display: flex;
    overflow: hidden;
    position: relative;
  }

  .popup-left {
    width: 60%;
    padding: 0px 30px 30px 30px;
    overflow-y: auto;
    border-right: 1px solid var(--border-dark);
    position: relative;
  }

  .popup-right {
    width: 40%;
    padding: 30px;
    display: flex;
    flex-direction: column;
  }

  .popup-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 25px;
    padding-bottom: 15px;
    border-bottom: 1px solid var(--border-dark);
  }

  .popup-title {
    font-size: 1.5rem;
    font-weight: 600;
    color: var(--text-light);
    display: flex;
    align-items: center;
    gap: 10px;
  }

  .popup-close {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background: var(--border-dark);
    border: none;
    color: var(--text-light);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s ease;
  }

  .popup-close:hover {
    background: var(--primary-red);
    transform: scale(1.1);
  }

  .popup-option {
    padding: 12px 16px;
    margin-bottom: 8px;
    border-radius: 8px;
    background: transparent;
    border: 2px solid rgb(71 85 105 / 62%);
    color: var(--text-light);
    cursor: pointer;
    transition: all 0.2s ease;
    display: flex;
    align-items: center;
    justify-content: flex-start;
  }

  .popup-option:hover {
    background: rgba(59, 130, 246, 0.1);
    border-color: var(--primary-blue);
  }

  .popup-option.selected {
    background: rgba(59, 130, 246, 0.2);
    border-color: var(--primary-blue);
  }

  .popup-textarea {
    flex: 1;
    background: #172033;
    border: 2px solid rgb(71 85 105 / 62%);
    border-radius: 12px;
    padding: 16px;
    font-size: 14px;
    color: var(--text-light);
    resize: none;
    margin-bottom: 20px;
  }

  .popup-textarea:focus {
    outline: none;
    border-color: var(--primary-blue);
    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
  }

  .popup-buttons {
    display: flex;
    gap: 12px;
  }

  .popup-btn {
    flex: 1;
    padding: 12px 20px;
    border-radius: 28px;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.2s ease;
    border: none;
  }

  .popup-btn-cancel {
    background: var(--border-dark);
    color: var(--text-light);
  }

  .popup-btn-confirm {
    background: var(--primary-blue);
    color: white;
  }

  .popup-btn:hover {
    transform: scale(1.05);
  }
  
  #completeTable th:nth-child(1), #completeTable td:nth-child(1) { width: 80px; }
  #completeTable th:nth-child(2), #completeTable td:nth-child(2) { width: 110px; }
  #completeTable th:nth-child(3), #completeTable td:nth-child(3) { width: 110px; }
  #completeTable th:nth-child(4), #completeTable td:nth-child(4) { width: 130px; }
  #completeTable th:nth-child(5), #completeTable td:nth-child(5) { width: 260px; }
  #completeTable th:nth-child(6), #completeTable td:nth-child(6) { width: 100px; }
  #completeTable th:nth-child(7), #completeTable td:nth-child(7) { 
    width: 100px; 
    text-align: center; 
  }

  #completeTable th, #completeTable td {
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }

.dropdown {
      position: relative;
      width: 100%;
      z-index: 10000;
    }
    .dropdown-toggle {
      padding: 8px 8px;
      border: 1px solid #e5e7eb;
      background: white;
      min-height: 48px;
      max-height: 48px;
      display: flex;
      flex-wrap: wrap;
      overflow-x: hidden;
      overflow-y: auto;
      gap: 5px;
      align-items: center;
      cursor: pointer;
      font-size: 14px;
      border-radius: 8px;
      transition: border-color 0.15s ease-in-out;
      box-sizing: border-box;
      position: relative;
    }
    .dropdown-toggle.large-field {
      align-items: flex-start;
      padding-top: 8px;
      flex-direction: row;
      align-content: flex-start;
    }
    .dropdown-toggle:focus,
    .dropdown-toggle.active {
      outline: 2px solid #000000;
      outline-offset: -1px;
    }
    .tag {
      white-space: normal;
      background: #f0f0f0;
      padding: 4px 10px;
      border-radius: 20px;
      font-size: 13px;
      flex-shrink: 0;
      word-break: break-word;
      max-width: 100%;
    }
    #customProductInput, #customPartTravauxInput {
      flex-shrink: 1;
      max-width: 70px;
      flex-grow: 1;
    }
    .dropdown-menu {
      position: absolute;
      top: 100%;
      left: 0;
      right: 0;
      border: 1px solid #e5e7eb;
      background: #fff;
      max-height: 350px;
      overflow-y: auto;
      overflow-x: hidden;
      width: 100%;
      z-index: 10;
      border-radius: 8px;
    }
    .dropdown-option {
      padding: 10px;
      cursor: pointer;
      display: flex;
      justify-content: space-between;
      font-size: 14px;
      white-space: normal;
    }
    .dropdown-option:hover {
      background: #f0f0f0;
    }
    .check {
      color: black;
      font-weight: bold;
    }


    .menu-item-button {
        background-color: white !important;
        color: #374151; /* text-gray-800 */
        font-size: 0.875rem; /* text-sm */
        padding: 0.5rem 1rem; /* py-2 px-4 */
        text-align: left;
        width: 100%;
        border: none;
        cursor: pointer;
        transition: background-color 0.2s ease;
    }

    .menu-item-button:hover {
        background-color: #f3f4f6; /* hover:bg-gray-100 */
    }

    .logo {
        height: 4rem;
    }

/* All button styles removed - now loaded from base.css */

/* Assignment options styles - Version compacte */
.assignment-option-compact {
  transition: all 0.2s ease;
  background: transparent;
}

.assignment-option-compact:hover {
  border-color: var(--primary-blue) !important;
  background: rgba(59, 130, 246, 0.05);
}

.assignment-option-compact:has(input[type="radio"]:checked) {
  border-color: var(--primary-blue) !important;
  background: rgba(59, 130, 246, 0.1) !important;
  box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.1);
}

/* Table des soumissions en attente - Style GQP */
.section-card {
  background: var(--bg-card);
  border-radius: 16px;
  box-shadow: var(--shadow-dark-medium);
  border: 1px solid var(--border-dark);
  overflow: hidden;
  transition: all 0.3s ease;
}

.section-header {
  background: linear-gradient(135deg, #1e293b 0%, #334155 100%);
  padding: 1.5rem 2rem;
  border-bottom: 1px solid var(--border-dark);
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.section-header h2 {
  color: var(--text-light);
  font-size: 1.25rem;
  font-weight: 700;
  margin: 0;
  display: flex;
  align-items: center;
}

.table-container {
  border-radius: 16px;
  overflow: hidden;
  background: var(--bg-card);
  box-shadow: var(--shadow-dark);
  max-height: 350px;
  overflow-y: auto;
  pointer-events: auto !important;
  position: relative !important;
  z-index: 1 !important;
  border: 1px solid var(--border-dark);
  padding-right: 0;
}

/* Modern Table Styling - Dark Theme (from facture.html) */
.modern-table,
.soumissions-table {
  width: 100%;
  border-collapse: separate;
  border-spacing: 0;
  background: transparent;
}

.modern-table thead,
.soumissions-table thead {
  background: linear-gradient(135deg, #374151 0%, #1f2937 100%);
}

.modern-table th,
.soumissions-table th {
  padding: 1rem 1.5rem;
  text-align: left;
  font-size: 0.75rem;
  font-weight: 500;
  text-transform: uppercase;
  letter-spacing: 0.025em;
  color: var(--text-gray);
  border-bottom: 2px solid var(--border-dark);
  position: sticky;
  top: 0;
  z-index: 10;
  background: #263140;
}

.modern-table th:first-child,
.soumissions-table th:first-child {
  border-top-left-radius: 12px;
}

.modern-table th:last-child,
.soumissions-table th:last-child {
  border-top-right-radius: 12px;
}

.modern-table tbody tr,
.soumissions-table tbody tr {
  transition: all 0.2s ease;
  border-bottom: 1px solid rgba(51, 65, 85, 0.5);
}

.modern-table tbody tr:hover,
.soumissions-table tbody tr:hover {
  background: rgba(59, 130, 246, 0.1);
  transform: translateY(-1px);
}

.modern-table td,
.soumissions-table td {
  padding: 1.25rem 1.5rem;
  font-size: 0.875rem;
  color: var(--text-gray);
  vertical-align: top;
}

.modern-table tbody tr:last-child td:first-child,
.soumissions-table tbody tr:last-child td:first-child {
  border-bottom-left-radius: 12px;
}

.modern-table tbody tr:last-child td:last-child,
.soumissions-table tbody tr:last-child td:last-child {
  border-bottom-right-radius: 12px;
}

/* Scroll bar styling */
.table-container::-webkit-scrollbar {
  width: 8px;
}

.table-container::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 6px;
}

.table-container::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.1);
  border-radius: 4px;
}

.table-container::-webkit-scrollbar-thumb:hover {
  background: var(--text-gray);
}

.empty-state {
  text-align: center;
  padding: 3rem 2rem;
  color: var(--text-gray);
}

.empty-state i {
  font-size: 3rem;
  margin-bottom: 1rem;
  opacity: 0.5;
}

/* Boutons dans la table - même style que calcul.html */
.action-btn-send {
  font-size: 11px !important;
  padding: 4px 8px !important;
}

.action-btn-delete {
  font-size: 11px !important;
  padding: 4px 8px !important;
  margin-left: 0.5rem;
}

/* Mobile & Tablette styles (incluant iPad) */
@media (max-width: 1200px) {
  /* Titre box plus petit sur mobile */
  .box-header-title {
    font-size: 1.25rem !important;
  }

  /* Cacher texte sur mobile */
  .hide-mobile {
    display: none !important;
  }


  /* Cacher la date sur mobile */
  #page-header .flex.items-center.justify-between > div.text-sm {
    display: none !important;
  }

  /* Header titre plus petit sur mobile */
  #page-header h1 {
    font-size: 1.875rem !important;
  }

  #page-header p {
    font-size: 0.875rem !important;
  }

  /* Padding général réduit */
  .w-full[style*="padding: 2rem"] {
    padding: 1rem !important;
  }

  .form-card {
    padding: 1.5rem !important;
  }

  /* Sections: Adapter tous les grids en 2 colonnes sur tablette */
  .grid.grid-cols-4,
  .grid.grid-cols-3 {
    grid-template-columns: repeat(2, 1fr) !important;
    gap: 1rem !important;
  }

  /* Titres de sections plus petits */
  h2.text-lg {
    font-size: 1rem !important;
  }

  /* Labels plus petits */
  label.text-sm {
    font-size: 0.75rem !important;
  }

  /* Inputs et textareas plus compacts */
  .modern-input,
  .modern-textarea {
    font-size: 0.875rem !important;
    padding: 0.625rem !important;
  }

  /* Textareas avec hauteur réduite sur mobile */
  .modern-textarea.endroit-textarea,
  .popup-trigger {
    height: 100px !important;
    min-height: 100px !important;
    max-height: 100px !important;
  }

  /* Table Soumissions: Cacher sur mobile */
  .table-container {
    display: none !important;
  }

  /* Vue mobile pour soumissions (cards) */
  #pending-soumissions-mobile {
    display: block !important;
  }

  /* Section header plus compact */
  .section-header {
    padding: 1rem !important;
    flex-direction: column !important;
    align-items: flex-start !important;
    gap: 0.75rem !important;
  }

  .section-header h2 {
    font-size: 1rem !important;
  }

  /* Padding section */
  .section-card .p-8 {
    padding: 1rem !important;
  }

  /* Cards soumissions mobiles */
  .soumission-mobile-card {
    background: var(--bg-card) !important;
    border: 1px solid var(--border-dark) !important;
    border-radius: 0.75rem !important;
    padding: 1rem !important;
    margin-bottom: 1rem !important;
    transition: all 0.2s ease !important;
  }

  .soumission-mobile-card:active {
    background: rgba(59, 130, 246, 0.1) !important;
    border-color: var(--primary-blue) !important;
  }

  .soumission-card-header {
    display: flex !important;
    justify-content: space-between !important;
    align-items: flex-start !important;
    margin-bottom: 0.75rem !important;
  }

  .soumission-card-numero {
    font-size: 0.875rem !important;
    font-weight: 700 !important;
    color: var(--primary-blue) !important;
    margin-bottom: 0.25rem !important;
  }

  .soumission-card-client {
    font-size: 1rem !important;
    font-weight: 600 !important;
    color: var(--text-light) !important;
    margin-bottom: 0.5rem !important;
  }

  .soumission-card-adresse {
    font-size: 0.8125rem !important;
    color: var(--text-gray) !important;
    margin-bottom: 0.5rem !important;
    display: flex !important;
    align-items: flex-start !important;
    gap: 0.5rem !important;
  }

  .soumission-card-montant {
    font-size: 1.25rem !important;
    font-weight: 700 !important;
    color: var(--primary-green) !important;
  }

  .soumission-card-actions {
    display: flex !important;
    gap: 0.5rem !important;
    margin-top: 0.75rem !important;
    padding-top: 0.75rem !important;
    border-top: 1px solid var(--border-dark) !important;
  }

  .soumission-action-btn {
    flex: 1 !important;
    padding: 0.625rem !important;
    border-radius: 0.5rem !important;
    font-size: 0.8125rem !important;
    font-weight: 600 !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    gap: 0.375rem !important;
    transition: all 0.2s ease !important;
    border: 1px solid !important;
  }

  .soumission-action-btn.edit-btn {
    background: rgba(59, 130, 246, 0.2) !important;
    border-color: var(--primary-blue) !important;
    color: var(--primary-blue) !important;
  }

  .soumission-action-btn.send-btn {
    background: rgba(52, 211, 153, 0.2) !important;
    border-color: var(--primary-green) !important;
    color: var(--primary-green) !important;
  }

  .soumission-action-btn.delete-btn {
    background: rgba(239, 68, 68, 0.2) !important;
    border-color: #ef4444 !important;
    color: #ef4444 !important;
  }

  .soumission-action-btn:active {
    transform: scale(0.95) !important;
  }

  /* Empty state sur mobile */
  .soumissions-empty-mobile {
    text-align: center !important;
    padding: 2rem 1rem !important;
    color: var(--text-gray) !important;
  }

  .soumissions-empty-mobile i {
    font-size: 2rem !important;
    margin-bottom: 0.5rem !important;
    opacity: 0.5 !important;
  }

  /* Boutons d'action du formulaire sur mobile */
  .flex.justify-between.items-center.mt-8 {
    flex-direction: column !important;
    gap: 1rem !important;
    align-items: stretch !important;
  }

  /* Options d'envoi en colonne sur mobile */
  .flex.items-center.gap-3 {
    flex-direction: column !important;
    width: 100% !important;
    gap: 0.75rem !important;
  }

  .assignment-option-compact {
    width: 100% !important;
    justify-content: center !important;
    padding: 0.75rem 1rem !important;
  }

  /* Boutons d'action restent sur la même ligne sur mobile (alignés à droite) */
  .flex.space-x-4 {
    justify-content: flex-end !important;
  }

  .flex.space-x-4 button {
    padding: 0.625rem 1.25rem !important;
    font-size: 0.875rem !important;
  }

  /* ===== POPUPS MOBILE - BASIQUE (pas fullscreen) ===== */

  /* Popup signature - taille fixe sur tablette */
  #signatureZoomPopup > div {
    max-width: 600px !important;
    width: 100% !important;
    padding: 16px !important;
    border-radius: 12px !important;
    max-height: calc(100vh - 24px) !important;
    overflow-y: auto !important;
  }

  /* Popup modal - centré avec padding */
  .popup-modal {
    padding: 12px !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    z-index: 999999 !important;
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    width: 100vw !important;
    height: 100vh !important;
  }

  /* Popup content - taille normale avec scroll */
  .popup-content {
    width: calc(100vw - 24px) !important;
    max-width: 600px !important;
    height: auto !important;
    max-height: calc(100vh - 24px) !important;
    border-radius: 12px !important;
    flex-direction: column !important;
    display: flex !important;
    overflow: hidden !important;
  }

  /* Popup left: container avec overflow contrôlé */
  .popup-left {
    width: 100% !important;
    border-right: none !important;
    border-bottom: 1px solid var(--border-dark) !important;
    padding: 0 !important;
    flex: 0 0 auto !important;
    max-height: 35vh !important;
    overflow-y: auto !important;
    display: flex !important;
    flex-direction: column !important;
    position: relative !important;
  }

  /* Popup right: limiter la hauteur sur mobile */
  .popup-right {
    max-height: 40vh !important;
    overflow-y: auto !important;
  }

  /* Popup header - FIXED en haut du popup-left, pas sticky */
  .popup-left > .popup-header {
    position: relative !important;
    top: 0 !important;
    z-index: 10 !important;
    background: var(--bg-card) !important;
    padding: 1rem 1.25rem !important;
    padding-top: 1rem !important;
    margin: 0 !important;
    border-bottom: 1px solid var(--border-dark) !important;
    display: flex !important;
    align-items: center !important;
    justify-content: space-between !important;
    flex-shrink: 0 !important;
    border-radius: 1rem 1rem 0 0 !important;
  }

  /* Zone scrollable pour les options */
  #productOptions,
  #partTravauxOptions,
  .popup-options {
    flex: 1 !important;
    overflow-y: auto !important;
    overflow-x: hidden !important;
    padding: 0.5rem 1rem 1rem 1rem !important;
    padding-top: 0.5rem !important;
    -webkit-overflow-scrolling: touch !important;
  }

  /* Scrollbar visible pour popup-options et endroitSelectedList - mince et gris */
  #productOptions::-webkit-scrollbar,
  #partTravauxOptions::-webkit-scrollbar,
  #endroitOptions::-webkit-scrollbar,
  .popup-options::-webkit-scrollbar,
  #endroitSelectedList::-webkit-scrollbar {
    width: 4px !important;
  }

  #productOptions::-webkit-scrollbar-track,
  #partTravauxOptions::-webkit-scrollbar-track,
  #endroitOptions::-webkit-scrollbar-track,
  .popup-options::-webkit-scrollbar-track,
  #endroitSelectedList::-webkit-scrollbar-track {
    background: rgba(30, 41, 59, 0.3) !important;
    border-radius: 2px !important;
    margin: 4px !important;
  }

  #productOptions::-webkit-scrollbar-thumb,
  #partTravauxOptions::-webkit-scrollbar-thumb,
  #endroitOptions::-webkit-scrollbar-thumb,
  .popup-options::-webkit-scrollbar-thumb,
  #endroitSelectedList::-webkit-scrollbar-thumb {
    background: rgba(100, 116, 139, 0.6) !important;
    border-radius: 2px !important;
  }

  #productOptions::-webkit-scrollbar-thumb:hover,
  #partTravauxOptions::-webkit-scrollbar-thumb:hover,
  #endroitOptions::-webkit-scrollbar-thumb:hover,
  .popup-options::-webkit-scrollbar-thumb:hover,
  #endroitSelectedList::-webkit-scrollbar-thumb:hover {
    background: rgba(100, 116, 139, 0.8) !important;
  }

  .popup-title {
    font-size: 1.125rem !important;
    font-weight: 700 !important;
    gap: 0.625rem !important;
    flex: 1 !important;
  }

  .popup-close {
    width: 40px !important;
    height: 40px !important;
    flex-shrink: 0 !important;
  }

  /* Section Templates (pour Particularité) - Layout amélioré */
  .popup-header > div[style*="background: rgba(59, 130, 246, 0.1)"] {
    margin: 1rem 0 0 0 !important;
    padding: 0.875rem 1rem !important;
    border-radius: 0.5rem !important;
  }

  /* Container flex pour label + select + bouton */
  .popup-header > div[style*="background: rgba(59, 130, 246, 0.1)"] > div {
    display: flex !important;
    align-items: center !important;
    gap: 0.5rem !important;
    flex-wrap: wrap !important;
  }

  /* Label Templates */
  .popup-header > div[style*="background: rgba(59, 130, 246, 0.1)"] span {
    font-size: 0.8125rem !important;
    flex-shrink: 0 !important;
  }

  /* Dropdown templates */
  .popup-header select {
    font-size: 0.875rem !important;
    padding: 0.625rem 0.75rem !important;
    flex: 1 !important;
    min-width: 0 !important;
    margin: 0 !important;
  }

  /* Bouton "Nouveau template" - icône save seulement sur mobile */
  .popup-header > div[style*="background: rgba(59, 130, 246, 0.1)"] button[onclick*="saveTemplatePrompt"] {
    padding: 0.5rem !important;
    width: 32px !important;
    height: 32px !important;
    min-width: 32px !important;
    min-height: 32px !important;
    flex-shrink: 0 !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    position: relative !important;
  }

  /* Cacher le texte du bouton */
  .popup-header > div[style*="background: rgba(59, 130, 246, 0.1)"] button[onclick*="saveTemplatePrompt"] span {
    display: none !important;
  }

  /* Cacher l'icône fa-plus */
  .popup-header > div[style*="background: rgba(59, 130, 246, 0.1)"] button[onclick*="saveTemplatePrompt"] i {
    display: none !important;
  }

  /* Afficher une icône save FontAwesome à la place */
  .popup-header > div[style*="background: rgba(59, 130, 246, 0.1)"] button[onclick*="saveTemplatePrompt"]::after {
    content: "\f0c7" !important;
    font-family: "Font Awesome 6 Free" !important;
    font-weight: 900 !important;
    font-size: 0.875rem !important;
    position: absolute !important;
    top: 50% !important;
    left: 50% !important;
    transform: translate(-50%, -50%) !important;
    display: block !important;
  }

  /* Boutons de gestion template (enregistrer, renommer, etc) */
  .popup-header > div[style*="background: rgba(59, 130, 246, 0.1)"] > div:last-child button {
    font-size: 0.75rem !important;
    padding: 0.5rem 0.75rem !important;
    width: auto !important;
    height: auto !important;
  }

  .popup-category {
    padding: 0.625rem 0.875rem !important;
    font-size: 0.6875rem !important;
    margin: 0.75rem 0 0.5rem 0 !important;
  }

  .popup-category:first-child {
    margin-top: 0.5rem !important;
  }

  .popup-option {
    padding: 0.875rem 0.75rem !important;
    font-size: 0.875rem !important;
    margin-bottom: 0.375rem !important;
  }

  .popup-option span {
    line-height: 1.4 !important;
  }

  /* Popup right: zone de texte avec scroll visible */
  .popup-right {
    width: 100% !important;
    padding: 1.25rem !important;
    flex: 0 0 auto !important;
    max-height: 40vh !important;
    display: flex !important;
    flex-direction: column !important;
    overflow-y: auto !important;
    overflow-x: hidden !important;
    background: var(--bg-dark) !important;
    -webkit-overflow-scrolling: touch !important;
  }

  /* Scrollbar visible pour popup-right - mince et gris */
  .popup-right::-webkit-scrollbar {
    width: 4px !important;
  }

  .popup-right::-webkit-scrollbar-track {
    background: rgba(15, 23, 42, 0.3) !important;
    border-radius: 2px !important;
    margin: 4px !important;
  }

  .popup-right::-webkit-scrollbar-thumb {
    background: rgba(100, 116, 139, 0.6) !important;
    border-radius: 2px !important;
  }

  .popup-right::-webkit-scrollbar-thumb:hover {
    background: rgba(100, 116, 139, 0.8) !important;
  }

  .popup-right h3 {
    font-size: 1rem !important;
    font-weight: 600 !important;
    margin-bottom: 0.875rem !important;
    color: var(--text-light) !important;
  }

  /* Textarea plus grande sur mobile */
  .popup-textarea,
  #productTextarea,
  #partTravauxTextarea {
    flex: 1 !important;
    min-height: 200px !important;
    font-size: 0.9375rem !important;
    padding: 1rem !important;
    line-height: 1.6 !important;
    border: 1px solid var(--border-dark) !important;
    background: var(--bg-card) !important;
    color: var(--text-light) !important;
    border-radius: 0.75rem !important;
    resize: none !important;
    margin-bottom: 1rem !important;
  }

  /* Boutons d'action du popup */
  .popup-buttons {
    display: flex !important;
    gap: 0.75rem !important;
    margin-top: auto !important;
  }

  .popup-buttons button {
    flex: 1 !important;
    padding: 0.875rem !important;
    font-size: 0.9375rem !important;
    font-weight: 600 !important;
    border-radius: 0.625rem !important;
  }

  /* Preview (si utilisé) */
  #productPreview,
  #partTravauxPreview {
    font-size: 0.875rem !important;
    padding: 1rem !important;
    line-height: 1.5 !important;
    max-height: none !important;
  }

  /* ===== PDF MODAL MOBILE - Zoom tactile ===== */

  /* S'assurer que le modal reste caché quand il a la classe hidden */
  #pdfModal.hidden {
    display: none !important;
  }

  /* Styles quand le modal est visible (sans classe hidden) */
  #pdfModal:not(.hidden) {
    position: fixed !important;
    width: 100vw !important;
    max-width: 100vw !important;
    height: 100vh !important;
    max-height: 100vh !important;
    border-radius: 0 !important;
    padding: 0 !important;
    top: 0 !important;
    left: 0 !important;
    transform: none !important;
    display: flex !important;
    flex-direction: column !important;
    z-index: 999999 !important;
  }

  /* Overlay aussi au-dessus de tout sur mobile */
  #pdfOverlay {
    position: fixed !important;
    width: 100vw !important;
    height: 100vh !important;
    top: 0 !important;
    left: 0 !important;
    z-index: 999998 !important;
    padding: 0 !important;
  }

  #pdfContent {
    height: 100% !important;
    display: flex !important;
    flex-direction: column !important;
    padding: 0 !important;
  }

  #pdfControls {
    padding: 8px 12px !important;
    flex-shrink: 0 !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    gap: 10px !important;
  }

  #pdfScrollContainer {
    flex: 1 !important;
    padding: 4px !important;
    overflow: auto !important;
    -webkit-overflow-scrolling: touch !important;
    touch-action: pan-x pan-y pinch-zoom !important;
    display: flex !important;
    align-items: flex-start !important;
    justify-content: flex-start !important;
    background: rgba(0, 0, 0, 0.5) !important;
  }

  /* Container interne pour scroll - s'adapte au canvas */
  #pdfScrollContainer > div {
    display: inline-block !important;
    width: fit-content !important;
    height: fit-content !important;
    flex-shrink: 0 !important;
  }

  #pdfCanvas {
    max-width: none !important;
    width: auto !important;
    height: auto !important;
    transform-origin: 0 0 !important;
    display: block !important;
  }

  /* Bouton fermer plus visible sur mobile */
  #closePdfBtn,
  #closePdfBtn.close-btn {
    width: 36px !important;
    height: 36px !important;
    font-size: 18px !important;
  }

  /* Header PDF sur mobile */
  .pdf-header-title {
    font-size: 0.9rem !important;
  }

  .pdf-header-title::before {
    font-size: 1rem !important;
  }

  /* Footer boutons compacts */
  #pdfModal > #pdfContent > div:last-child {
    padding: 8px !important;
    gap: 8px !important;
    flex-shrink: 0 !important;
  }

  #acceptPresentationBtn {
    padding: 10px 16px !important;
    font-size: 14px !important;
  }

  #acceptPresentationBtn span {
    font-size: 14px !important;
  }

  /* ===== ZONE SIGNATURE SUR PDF - MOBILE ===== */
  #signatureOverlay {
    /* La position est calculée dynamiquement par JavaScript */
    pointer-events: auto !important;
    cursor: pointer !important;
    z-index: 100 !important;
  }

  #signaturePreview {
    border: 2px dashed rgba(96, 165, 250, 0.6) !important;
    background: rgba(96, 165, 250, 0.1) !important;
    min-height: 30px !important;
  }

  #signatureHint {
    font-size: 10px !important;
    padding: 4px !important;
  }

  /* Canvas de signature preview - s'adapte à la zone */
  #signaturePreviewCanvas {
    width: 100% !important;
    height: 100% !important;
  }

  /* ===== POPUP SIGNATURE ZOOM - MOBILE ===== */
  #signatureZoomPopup {
    padding: 12px !important;
    align-items: center !important;
    justify-content: center !important;
    z-index: 10000000 !important; /* Au-dessus du modal PDF (999999) */
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    width: 100vw !important;
    height: 100vh !important;
  }

  #signatureZoomPopup > div {
    max-width: 100% !important;
    width: 100% !important;
    padding: 16px !important;
    border-radius: 12px !important;
    max-height: calc(100vh - 24px) !important;
    overflow-y: auto !important;
  }

  /* Zone canvas signature - taille adaptée mobile */
  #signatureZoomPopup #pdfZoomCanvas {
    height: 200px !important;
  }

  /* Canvas de signature - doit être parfaitement superposé au canvas PDF */
  #signatureZoomPopup #presentationSignaturePad {
    top: 0 !important;
    left: 0 !important;
    width: 100% !important;
    height: 200px !important;
    border-radius: 6px !important;
  }

  /* Ajuster le container pour ne pas avoir de padding qui décale */
  #signatureZoomPopup div[style*="position: relative"][style*="background: white"] {
    padding: 0 !important;
    overflow: visible !important;
  }

  /* Titre popup plus compact */
  #signatureZoomPopup div[style*="font-size: 18px"] {
    font-size: 16px !important;
  }

  /* Boutons en bas - compacts */
  #signatureZoomPopup .btn-primary,
  #signatureZoomPopup .btn-secondary {
    padding: 10px 14px !important;
    font-size: 13px !important;
  }

  #signatureZoomPopup .btn-primary span,
  #signatureZoomPopup .btn-secondary span {
    font-size: 13px !important;
  }

  /* Form sections plus compactes sur mobile */
  .form-section {
    background: rgba(30, 41, 59, 0.3) !important;
    border: 1px solid rgba(51, 65, 85, 0.5) !important;
    border-radius: 12px !important;
    padding: 0.5rem !important;
    margin-bottom: 1.5rem !important;
  }

  /* Grid 5 colonnes devient 2 colonnes sur tablette */
  .grid-cols-5 {
    grid-template-columns: repeat(2, 1fr) !important;
  }

  /* Toggle mobile caché sur tablette (version desktop affichée) */
  #languageToggleMobile {
    display: none !important;
  }
}

/* Mobile only (≤600px) - Cacher toggle desktop, afficher toggle mobile */
@media (max-width: 600px) {
  #languageToggle {
    display: none !important;
  }

  #languageToggleMobile {
    display: flex !important;
    width: fit-content !important;
  }

  /* Popup compact sur mobile - tout visible sans scroll */
  .popup-content {
    height: auto !important;
    max-height: 95vh !important;
  }

  .popup-left {
    max-height: none !important;
    height: auto !important;
    flex: 0 0 auto !important;
  }

  .popup-right {
    max-height: none !important;
    height: auto !important;
    flex: 0 0 auto !important;
    padding: 12px !important;
  }

  /* Liste endroits sélectionnés - compact */
  #endroitSelectedList {
    height: 120px !important;
    margin-bottom: 10px !important;
    padding: 8px !important;
  }

  /* Boutons popup plus compacts */
  .popup-buttons {
    padding: 8px 0 !important;
    gap: 8px !important;
  }

  .popup-buttons button {
    padding: 8px 16px !important;
    font-size: 13px !important;
  }

  /* Input ajouter endroit plus compact */
  #endroitCustomInput {
    height: 36px !important;
    font-size: 12px !important;
  }

  /* Options plus compactes */
  .popup-options {
    max-height: 30vh !important;
  }

  .popup-option {
    padding: 8px 10px !important;
    font-size: 13px !important;
  }

}

/* Bloquer le scroll en background quand popup PDF ouverte (tous écrans) */
body.modal-open {
  overflow: hidden !important;
}

/* Vue desktop pour soumissions (cacher mobile par défaut) */
#pending-soumissions-mobile {
  display: none;
}

/* Le champ Date de création est maintenant visible dans le formulaire */

/* Sections du formulaire - Séparation visuelle */
.form-section {
  background: rgba(30, 41, 59, 0.3);
  border: 1px solid rgba(51, 65, 85, 0.5);
  border-radius: 12px;
  padding: 1.5rem;
  margin-bottom: 1.5rem;
}

.form-section .section-title {
  font-size: 1.125rem;
  font-weight: 600;
  color: var(--text-light);
  margin-bottom: 1.5rem;
  padding-bottom: 0.75rem;
  border-bottom: 2px solid rgba(71, 85, 105, 0.5);
  display: flex;
  align-items: center;
}

.btn-parametres::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #f97316 0%, #ea580c 100%);
            transition: left 0.3s ease;
            z-index: 0;
          }

          .btn-parametres:hover::before {
            left: 0;
          }

          .btn-parametres:hover {
            transform: scale(1.05);
            box-shadow: 0 6px 16px rgba(251, 146, 60, 0.4);
          }

/* PDF Viewer styles - Style Centraleentrepreneur mais plus étroit */
  #pdfOverlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.8);
    z-index: 999998;
    display: none;
    padding: 12px;
    pointer-events: none;
  }

  #pdfModal {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 90%;
    max-width: 1400px;
    max-height: 95vh;
    background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
    border-radius: 16px;
    box-shadow: 0 20px 60px rgba(0,0,0,0.5);
    border: 1px solid rgba(148, 163, 184, 0.2);
    z-index: 999999;
    overflow: visible;
    display: flex;
    flex-direction: column;
    padding: 24px;
  }
  
  #closePdfBtn {
    background: rgba(0, 0, 0, 0.7);
    color: white;
    border: none;
    border-radius: 50%;
    width: 40px;
    height: 40px;
    font-size: 1.5rem;
    cursor: pointer;
    z-index: 10001;
    transition: all 0.2s ease;
    position: static;
    font-size: 20px !important;
  }
  
  #closePdfBtn:hover {
    background: rgba(248, 113, 113, 0.8) !important;
    transform: scale(1.1);
  }

  .closebtnpdf:hover {
    background: rgba(248, 113, 113, 0.8);
    transform: scale(1.1);
  }
  
  #pdfContent {
    width: 100%;
    height: 100%;
    padding: 0;
    display: flex;
    flex-direction: column;
    background: transparent;
    overflow: hidden;
  }
  
  #pdfControls {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 12px;
    padding: 12px 16px;
    background: linear-gradient(135deg, rgba(30, 41, 59, 0.95) 0%, rgba(15, 23, 42, 0.95) 100%);
    border-bottom: 1px solid rgba(96, 165, 250, 0.2);
    border-radius: 16px 16px 0 0;
  }

  .pdf-header-title {
    color: var(--text-light);
    font-size: 1rem;
    font-weight: 600;
    display: flex;
    align-items: center;
    gap: 8px;
  }

  .pdf-header-title::before {
    content: "\f15b";
    font-family: "Font Awesome 6 Free";
    font-weight: 400;
    font-size: 1.1rem;
  }

  #closePdfBtn.close-btn {
    background: rgba(248, 113, 113, 0.15);
    color: #f87171;
    border: 1px solid rgba(248, 113, 113, 0.3);
    border-radius: 8px;
    width: 36px;
    height: 36px;
    font-size: 1.25rem;
    cursor: pointer;
    transition: all 0.2s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    line-height: 1;
  }

  #closePdfBtn.close-btn:hover {
    background: rgba(248, 113, 113, 0.3);
    transform: scale(1.05);
    border-color: rgba(248, 113, 113, 0.5);
  }
  
  #pdfControls .zoom-controls {
    display: flex;
    align-items: center;
    gap: 10px;
    flex: 1;
    justify-content: center;
  }
  
  #pdfControls button:not(.button3):not(#closePdfBtn) {
    background: rgba(0, 0, 0, 0.7);
    color: white;
    border: none;
    border-radius: 4px;
    padding: 5px 10px;
    cursor: pointer;
    font-size: 14px;
    transition: background-color 0.2s ease;
  }
  
  #pdfControls button:not(.button3):not(#closePdfBtn):hover {
    background: rgba(0, 0, 0, 0.9);
  }
  
  
  #pdfControls span {
    color: var(--text-light);
    font-size: 14px;
    min-width: 60px;
    text-align: center;
  }
  
  #pdfScrollContainer {
    flex: 1;
    overflow: auto;
    display: flex;
    align-items: flex-start;
    justify-content: center;
    padding: 16px;
    background: rgba(0, 0, 0, 0.3);
  }

  #pdfScrollContainer > div {
    display: inline-block;
    width: fit-content;
    height: fit-content;
  }

  /* Scrollbar personnalisée pour le container PDF */
  #pdfScrollContainer::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  #pdfScrollContainer::-webkit-scrollbar-track {
    background: rgba(0, 0, 0, 0.1);
    border-radius: 10px;
  }

  #pdfScrollContainer::-webkit-scrollbar-thumb {
    background: rgba(255, 255, 255, 0.3);
    border-radius: 10px;
    transition: background 0.2s ease;
  }

  #pdfScrollContainer::-webkit-scrollbar-thumb:hover {
    background: rgba(255, 255, 255, 0.5);
  }

  #pdfScrollContainer::-webkit-scrollbar-corner {
    background: transparent;
  }
  
  #pdfCanvas {
    display: block;
    border-radius: 8px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
    transition: transform 0.1s ease;
    max-width: 100%;
    height: auto;
  }

/* ================================================================
   CALENDRIER PERSONNALISÉ DASHBOARD
   ================================================================ */

/* Container principal du calendrier */
.dashboard-calendar-container {
  position: relative;
  width: 100%;
}

/* Input d'affichage de la date */
.dashboard-date-display {
  background: #172033;
  border: 2px solid rgb(71 85 105 / 62%);
  border-radius: 12px;
  padding: 12px 16px;
  font-size: 14px;
  height: 48px;
  font-family: inherit;
  width: 100%;
  color: var(--text-light);
  padding-right: 2.5rem;
  cursor: pointer;
}

.dashboard-date-display:focus {
  outline: none;
  border-color: rgb(71 85 105 / 62%);
  background: #172033;
}

.dashboard-date-display::placeholder {
  color: var(--text-gray);
}

/* Icône calendrier */
.dashboard-date-icon {
  position: absolute;
  right: 0.75rem;
  top: 50%;
  transform: translateY(-50%);
  color: #9ca3af;
  cursor: pointer;
  font-size: 0.875rem;
}

.dashboard-date-icon:hover {
  color: #9ca3af;
}

/* Widget calendrier */
.dashboard-calendar {
  position: absolute;
  top: 100%;
  left: 0;
  right: 0;
  z-index: 1000;
  background: var(--bg-card);
  border: 2px solid var(--border-dark);
  border-radius: 0.5rem;
  box-shadow: var(--shadow-dark-strong);
  margin-top: 0.5rem;
  padding: 0.75rem;
  min-width: 240px;
  max-width: 260px;
}

.dashboard-calendar.hidden {
  display: none;
}

/* Header du calendrier */
.dashboard-calendar-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 0.75rem;
  padding-bottom: 0.5rem;
  border-bottom: 1px solid var(--border-dark);
}

.dashboard-calendar-title {
  font-size: 0.875rem;
  font-weight: 600;
  color: var(--text-light);
  flex: 1;
  text-align: center;
}

.dashboard-calendar-nav {
  background: transparent;
  border: none;
  color: var(--text-gray);
  cursor: pointer;
  padding: 0.25rem;
  border-radius: 0.25rem;
  transition: all 0.2s ease;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 24px;
  height: 24px;
}

.dashboard-calendar-nav:hover {
  background: var(--bg-dark);
  color: var(--primary-blue);
}

/* Jours de la semaine */
.dashboard-calendar-weekdays {
  display: grid;
  grid-template-columns: repeat(7, 1fr);
  gap: 0.125rem;
  margin-bottom: 0.5rem;
  padding-bottom: 0.5rem;
  border-bottom: 1px solid rgba(71, 85, 105, 0.3);
}

.dashboard-calendar-weekdays span {
  font-size: 0.75rem;
  font-weight: 600;
  color: var(--text-gray);
  text-align: center;
  padding: 0.25rem 0;
}

/* Grille des jours */
.dashboard-calendar-days {
  display: grid;
  grid-template-columns: repeat(7, 1fr);
  gap: 0.125rem;
}

/* Style des jours */
.dashboard-calendar-day {
  aspect-ratio: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 0.75rem;
  border-radius: 0.25rem;
  cursor: pointer;
  transition: all 0.2s ease;
  position: relative;
  color: var(--text-light);
  background: transparent;
  border: 1px solid transparent;
  min-height: 28px;
}

.dashboard-calendar-day:hover {
  background: rgba(96, 165, 250, 0.1);
  border-color: rgba(96, 165, 250, 0.3);
}

/* Jour sélectionné */
.dashboard-calendar-day.selected {
  background: var(--primary-blue);
  color: white;
  font-weight: 600;
  border-color: var(--primary-blue);
  box-shadow: 0 0 0 2px rgba(96, 165, 250, 0.3);
}

/* Jour aujourd'hui */
.dashboard-calendar-day.today {
  background: rgba(96, 165, 250, 0.2);
  border-color: var(--primary-blue);
  font-weight: 600;
}

.dashboard-calendar-day.today.selected {
  background: var(--primary-blue);
  color: white;
}

/* Jours du mois précédent/suivant */
.dashboard-calendar-day.other-month {
  color: var(--text-gray);
  opacity: 0.5;
}

.dashboard-calendar-day.other-month:hover {
  opacity: 0.8;
}

  /* Conteneur principal des suggestions Google */
  .pac-container {
    background: #1e293b !important;
    border: 1px solid rgb(71, 85, 105) !important;
    border-radius: 12px !important;
    box-shadow: var(--shadow-dark-medium) !important;
    margin-top: 4px !important;
    z-index: 9999 !important;
  }

  /* Items individuels des suggestions */
  .pac-item {
    background: #1e293b !important;
    color: var(--text-light) !important;
    border-top: 1px solid rgb(71, 85, 105) !important;
    padding: 12px 16px !important;
    font-size: 14px !important;
    cursor: pointer !important;
    transition: background-color 0.2s ease !important;
  }

  /* Premier item sans bordure du haut */
  .pac-item:first-child {
    border-top: none !important;
    border-top-left-radius: 12px !important;
    border-top-right-radius: 12px !important;
  }

  /* Dernier item avec coins arrondis */
  .pac-item:last-child {
    border-bottom-left-radius: 12px !important;
    border-bottom-right-radius: 12px !important;
  }

  /* Hover sur les suggestions */
  .pac-item:hover,
  .pac-item-selected {
    background: var(--primary-blue) !important;
    color: white !important;
  }

  /* Masquer l'icône de localisation */
  .pac-icon {
    display: none !important;
  }

  /* Texte de l'adresse principale */
  .pac-item-query {
    color: var(--text-light) !important;
    font-weight: 600 !important;
  }

  /* Texte secondaire (ville, province) */
  .pac-matched {
    color: var(--text-gray) !important;
    font-weight: 400 !important;
  }

  /* Séparateur entre adresse principale et secondaire */
  .pac-item-query .pac-matched {
    color: var(--primary-blue) !important;
    font-weight: 600 !important;
  }

  /* Hover sur les éléments de texte */
  .pac-item:hover .pac-item-query,
  .pac-item-selected .pac-item-query {
    color: white !important;
  }

  .pac-item:hover .pac-matched,
  .pac-item-selected .pac-matched {
    color: white !important;
  }

  /* Logo Google en bas */
  .pac-logo::after {
    background: #1e293b !important;
    border-top: 1px solid rgb(71, 85, 105) !important;
  }

  /* Container au-dessus du modal */
  .pac-container.pac-logo {
    border-bottom-left-radius: 12px !important;
    border-bottom-right-radius: 12px !important;
  }

  /* Limiter à 3 suggestions maximum */
  .pac-item:nth-child(n+4) {
    display: none !important;
  }

  /* ===================================
     STYLES POUR SIGNATURE PRÉSENTATION
     =================================== */

  /* Overlay signature sur le PDF */
  #signatureOverlay {
    z-index: 100;
  }


  /* Label signature */
  .presentation-signature-label {
    font-family: Inter, -apple-system, BlinkMacSystemFont, sans-serif;
  }

  /* Canvas signature avec curseur personnalisé très petit */
  #presentationSignaturePad {
    display: block;
    box-sizing: border-box;
    cursor: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij48Y2lyY2xlIGN4PSI4IiBjeT0iOCIgcj0iMiIgZmlsbD0iYmxhY2siLz48L3N2Zz4=') 8 8, auto;
  }

  #presentationSignaturePad:hover {
    border-color: rgba(96, 165, 250, 0.6);
  }

  /* Boutons avec classe btn-success (vert) */
  .btn-success {
    background: linear-gradient(135deg, #10b981 0%, #059669 100%) !important;
    box-shadow: none !important;
    opacity: 1 !important;
    cursor: pointer !important;
    transform: scale(1.02);
  }

  .btn-success:hover {
    transform: scale(1.07) !important;
    box-shadow: none !important;
  }

  /* Boutons primary désactivés - gris (ID spécifique pour override base.css) */
  #acceptPresentationBtn:disabled,
  #validateSignatureBtn:disabled {
    background: rgba(148, 163, 184, 0.3) !important;
    background-color: rgba(148, 163, 184, 0.3) !important;
    color: rgba(203, 213, 225, 0.5) !important;
    opacity: 1 !important;
    cursor: not-allowed !important;
    transform: scale(1) !important;
    box-shadow: none !important;
    pointer-events: none !important;
  }

  #acceptPresentationBtn:disabled:hover,
  #validateSignatureBtn:disabled:hover {
    background: rgba(148, 163, 184, 0.3) !important;
    background-color: rgba(148, 163, 184, 0.3) !important;
    transform: scale(1) !important;
    box-shadow: none !important;
  }

  #acceptPresentationBtn:disabled::before,
  #validateSignatureBtn:disabled::before,
  .btn-primary:disabled::before {
    display: none !important;
  }

  /* Empêcher le scale sur hover pour les boutons disabled */
  .btn-primary:disabled:hover {
    transform: scale(1) !important;
  }

/* Cacher bouton retour sur tablette (visible seulement sur mobile) */
@media (min-width: 601px) {
  #back-to-outils-btn,
  .back-button {
    display: none !important;
  }
}